<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>数据库 on 程序员安仔</title><link>https://www.shellio.cc/categories/%E6%95%B0%E6%8D%AE%E5%BA%93/</link><description>Recent content in 数据库 on 程序员安仔</description><generator>Hugo -- gohugo.io</generator><language>zh-hans</language><copyright>个人技术博客</copyright><lastBuildDate>Sat, 21 Oct 2023 12:22:54 +0800</lastBuildDate><atom:link href="https://www.shellio.cc/categories/%E6%95%B0%E6%8D%AE%E5%BA%93/index.xml" rel="self" type="application/rss+xml"/><item><title>八、MongoDB -连接</title><link>https://www.shellio.cc/docs/database/mongodb/8/</link><pubDate>Sat, 21 Oct 2023 12:22:54 +0800</pubDate><guid>https://www.shellio.cc/docs/database/mongodb/8/</guid><description>启动 MongoDB 服务 经过前面的几章学习，我们知道如何 如何启动 MongoDB 服务
1只需要在 MongoDB 安装目录的 bin 目录下执行 mongod 即可 执行启动操作后，mongodb 会输出一些必要信息后，然后等待客户端连接的建立，当连接被建立后，就会开始打印日志信息
MongoDB 客户端 我们可以使用 MongoDB 自带的 shell 客户端 mongo 连接 MongoDB 服务
我们也可以使用使用 PHP 来连接 MongoDB
本教程我们会使用 mongo 来连接 Mongodb 服务
标准 URI 连接语法 1mongodb://[username:password@]host1[:port1][,host2[:port2],...[,hostN[:portN]]][/[database][?options]] 选项说明 选项 说明 mongodb:// 这是固定的格式，必须要指定 username:password@ 可选项，如果设置，在连接数据库服务器之后，驱动都会尝试登陆这个数据库 host1 必须的指定至少一个host
host1 是这个URI唯一要填写的，它指定了要连接服务器的地址
如果要连接集群，请指定多个主机地址 portX 可选的指定端口，如果不填，默认为27017 /database 如果指定username:password@，连接并验证登陆指定数据库。若不指定，默认打开 test 数据库 ?options 是连接选项。如果不使用/database，则前面需要加上/
所有连接选项都是键值对name=value，键值对之间通过&amp;amp;或;（分号）隔开 options 可以包括以下选项 选项 描述 replicaSet=name 验证replica set的名称，Impliesconnect=replicaSet. slaveOk=true|false true:在connect=direct模式下，驱动会连接第一台机器，即使这台服务器不是主。在connect=replicaSet模式下，驱动会发送所有的写请求到主并且把读取操作分布在其他从服务器</description></item><item><title>八、MySQL 获取数据库列表</title><link>https://www.shellio.cc/docs/database/mysql/8/</link><pubDate>Sat, 21 Oct 2023 12:22:54 +0800</pubDate><guid>https://www.shellio.cc/docs/database/mysql/8/</guid><description>如果要查看当前 MySQL 服务器有哪些数据库，可以使用 SHOW DATABASES; 命令
在 mysql&amp;gt;` 终端中查看数据库列表 打开一个终端(命令行)，输入 mysql -u root -p 进入 mysql&amp;gt; 命令行
然后输入 SHOW DATABASES; 命令就可以查看连接的服务器有多少数据库了
1$ mysql -uroot -p 2Enter password: 3Welcome to the MariaDB monitor. Commands end with ; or \g. 4Your MariaDB connection id is 113 5Server version: 10.2.13-MariaDB Homebrew 6Copyright (c) 2000, 2018, Oracle, MariaDB Corporation Ab and others. 7Type &amp;#39;help;&amp;#39; or &amp;#39;\h&amp;#39; for help. Type &amp;#39;\c&amp;#39; to clear the current input statement.</description></item><item><title>八、SQLite Group By</title><link>https://www.shellio.cc/docs/database/sqlite/8/</link><pubDate>Sat, 21 Oct 2023 12:22:54 +0800</pubDate><guid>https://www.shellio.cc/docs/database/sqlite/8/</guid><description>SQLite Group By SQLite 的 GROUP BY 子句用于与 SELECT 语句一起使用，来对相同的数据进行分组。
在SELECT 语句中，GROUP BY 子句放在 WHERE 子句之后，放在 ORDER BY 子句之前。
语法 因初次访问，为防止爬虫和人机识别，请关注微信公众号，回复:‘验证码‘获取验证码来解锁全文 解锁内容 下面给出了 GROUP BY 子句的基本语法。GROUP BY 子句必须放在 WHERE 子句中的条件之后，必须放在 ORDER BY 子句之前。
1SELECT column-list 2FROM table_name 3WHERE [ conditions ] 4GROUP BY column1, column2....columnN 5ORDER BY column1, column2....columnN 您可以在 GROUP BY 子句中使用多个列。确保您使用的分组列在列清单中。
实例 假设COMPANY 表有以下记录：
1ID NAME AGE ADDRESS SALARY 2---------- ---------- ---------- ---------- ---------- 31 Paul 32 California 20000.</description></item><item><title>二、MySQL 简介</title><link>https://www.shellio.cc/docs/database/mysql/2/</link><pubDate>Sat, 21 Oct 2023 12:22:54 +0800</pubDate><guid>https://www.shellio.cc/docs/database/mysql/2/</guid><description>MySQL 是一个关系型数据库管理系统，由瑞典 MySQL AB 公司开发，目前属于 Oracle 公司
MySQL 同时也是一种关联数据库管理系统，关联数据库将数据保存在不同的表中，而不是将所有数据放在一个大仓库内，这样就增加了速度并提高了灵活性
为什么是 MySQL MySQL 是开源的，目前不需要支付任何费用就可以使用它的社区版 MySQL 是跨平台的，可以运行在 Windows 、Linux 、Mac OS 多个系统上 MySQL 支持多种语言，如 C、C++、Python、Java、Perl、PHP、Ruby 等 MySQL 可以处理上千万条的记录 MySQL 支持大型数据库，支持 5000 万条记录的数据仓库，32 位系统表文件最大可支持 4 GB，64 位系统支持最大的表文件为 8TB 目前 WEB 服务器几乎都是 64 位的，所以不用担心 MySQL 表文件大小问题
MySQL 使用标准的 SQL 数据语言形式 如果你对 SQL 还很陌生，那么可以访问我们的 SQL 基础教程 学习 SQL 知识
MySQL 对 PHP 有很好的支持，PHP 内建的 PDO_MYSQL 提供了访问 MySQL 数据库的丰富的 API MySQL 是可以定制的，采用了 GPL 协议，我们可以修改源码来开发自己的 MySQL 系统</description></item><item><title>二、NoSQL 简介</title><link>https://www.shellio.cc/docs/database/mongodb/2/</link><pubDate>Sat, 21 Oct 2023 12:22:54 +0800</pubDate><guid>https://www.shellio.cc/docs/database/mongodb/2/</guid><description>在现代的计算系统上每天网络上都会产生庞大的数据量
这些数据有很大一部分是由关系数据库管理系统（RDMBSs）来处理
1970年 E.F.Codd’s提出的关系模型的论文 “A relational model of data for large shared data banks”，这使得数据建模和应用程序编程更加简单
通过应用实践证明，关系模型是非常适合于客户服务器编程，远远超出预期的利益，今天它是结构化数据存储在网络和商务应用的主导技术。
NoSQL 是一项全新的数据库革命性运动，早期就有人提出，发展至2009年趋势越发高涨。NoSQL的拥护者们提倡运用非关系型的数据存储，相对于铺天盖地的关系型数据库运用，这一概念无疑是一种全新的思维的注入。
关系型数据库遵循 ACID 规则 1、 A(Atomicity)原子性；
1原子性很容易理解，也就是说事务里的所有操作要么全部做完，要么都不做，事务成功的条件是事务里的所有操作都成功，只要有一个操作失败，整个事务就失败，需要回滚 2比如银行转账，从 A 账户转100元至B账户，分为两个步骤： 31. 从 A 账户取100元 42. 存入100元至B账户 5这两步要么一起完成，要么一起不完成，如果只完成第一步，第二步失败，钱会莫名其妙少了100元 2、 C(Consistency)一致性；
1一致性也比较容易理解，也就是说数据库要一直处于一致的状态，事务的运行不会改变数据库原本的一致性约束 2例如现有完整性约束 a+b =10，如果一个事务改变了a，那么必须得改变b，使得事务结束后依然满足a+b=10，否则事务失败 3、 I(Isolation)独立性；
1所谓的独立性是指并发的事务之间不会互相影响，如果一个事务要访问的数据正在被另外一个事务修改，只要另外一个事务未提交，它所访问的数据就不受未提交事务的影响 2比如现有有个交易是从A账户转100元至B账户，在这个交易还未完成的情况下，如果此时B查询自己的账户，是看不到新增加的100元的 4、 D(Durability)持久性；
1持久性是指一旦事务提交后，它所做的修改将会永久的保存在数据库上，即使出现宕机也不会丢失 分布式系统 因初次访问，为防止爬虫和人机识别，请关注微信公众号，回复:‘验证码‘获取验证码来解锁全文 解锁内容 分布式系统（distributed system）由多台计算机和通信的软件组件通过计算机网络连接（本地网络或广域网）组成
分布式系统是建立在网络之上的软件系统
分布式系统具有高度的内聚性和透明性
网络和分布式系统之间的区别更多的在于高层软件（特别是操作系统），而不是硬件
分布式系统可以应用在不同的平台上如：PC、工作站、局域网和广域网上等
分布式计算的优点 可靠性（容错） ：
分布式计算系统中的一个重要的优点是可靠性
一台服务器的系统崩溃并不影响到其余的服务器
可扩展性：
在分布式计算系统可以根据需要增加更多的机器
资源共享：
共享数据是必不可少的应用，如银行，预订系统
灵活性：
由于该系统是非常灵活的，它很容易安装，实施和调试新的服务
更快的速度：
分布式计算系统可以有多台计算机的计算能力，比其它系统有更快的处理速度
开放系统：
由于它是开放的系统，本地或者远程都可以访问到该服务。</description></item><item><title>二、SQLite 简介</title><link>https://www.shellio.cc/docs/database/sqlite/2/</link><pubDate>Sat, 21 Oct 2023 12:22:54 +0800</pubDate><guid>https://www.shellio.cc/docs/database/sqlite/2/</guid><description>SQLite 简介 本教程帮助您了解什么是 SQLite，它与 SQL 之间的不同，为什么需要它，以及它的应用程序数据库处理方式。
SQLite是一个软件库，实现了自给自足的、无服务器的、零配置的、事务性的 SQL 数据库引擎。SQLite是一个增长最快的数据库引擎，这是在普及方面的增长，与它的尺寸大小无关。SQLite 源代码不受版权限制。
什么是 SQLite？ 因初次访问，为防止爬虫和人机识别，请关注微信公众号，回复:‘验证码‘获取验证码来解锁全文 解锁内容 SQLite是一个进程内的库，实现了自给自足的、无服务器的、零配置的、事务性的 SQL 数据库引擎。它是一个零配置的数据库，这意味着与其他数据库一样，您不需要在系统中配置。
就像其他数据库，SQLite 引擎不是一个独立的进程，可以按应用程序需求进行静态或动态连接。SQLite 直接访问其存储文件。
为什么要用 SQLite？ 不需要一个单独的服务器进程或操作的系统（无服务器的）。 SQLite 不需要配置，这意味着不需要安装或管理。 一个完整的 SQLite 数据库是存储在一个单一的跨平台的磁盘文件。 SQLite 是非常小的，是轻量级的，完全配置时小于 400KiB，省略可选功能配置时小于250KiB。 SQLite 是自给自足的，这意味着不需要任何外部的依赖。 SQLite 事务是完全兼容 ACID 的，允许从多个进程或线程安全访问。 SQLite 支持 SQL92（SQL2）标准的大多数查询语言的功能。 SQLite 使用 ANSI-C 编写的，并提供了简单和易于使用的 API。 SQLite 可在 UNIX（Linux, Mac OS-X, Android, iOS）和 Windows（Win32, WinCE, WinRT）中运行。 历史 1、 2000—D.RichardHipp设计SQLite是为了不需要管理即可操作程序；
2、 2000—在八月，SQLite1.0发布GNU数据库管理器（GNUDatabaseManager）；
3、 2011—Hipp宣布，向SQLiteDB添加UNQl接口，开发UNQLite（面向文档的数据库）；
SQLite 局限性 在SQLite 中，SQL92 不支持的特性如下所示：
特性 描述 RIGHT OUTER JOIN 只实现了 LEFT OUTER JOIN。 FULL OUTER JOIN 只实现了 LEFT OUTER JOIN。 ALTER TABLE 支持 RENAME TABLE 和 ALTER TABLE 的 ADD COLUMN variants 命令，不支持 DROP COLUMN、ALTER COLUMN、ADD CONSTRAINT。 Trigger 支持 支持 FOR EACH ROW 触发器，但不支持 FOR EACH STATEMENT 触发器。 VIEWs 在 SQLite 中，视图是只读的。您不可以在视图上执行 DELETE、INSERT 或 UPDATE 语句。 GRANT 和 REVOKE 可以应用的唯一的访问权限是底层操作系统的正常文件访问权限。 SQLite 命令 与关系数据库进行交互的标准 SQLite 命令类似于 SQL。命令包括 CREATE、SELECT、INSERT、UPDATE、DELETE 和 DROP。这些命令基于它们的操作性质可分为以下几种：</description></item><item><title>二十、MongoDB 限制条数 (limit 方法)</title><link>https://www.shellio.cc/docs/database/mongodb/20/</link><pubDate>Sat, 21 Oct 2023 12:22:54 +0800</pubDate><guid>https://www.shellio.cc/docs/database/mongodb/20/</guid><description>limit() 方法接受一个数字参数，该参数指定从MongoDB中读取的记录条数
语法 limit() 方法语法如下：
1&amp;gt; db.COLLECTION_NAME.find().limit(NUMBER) 范例 使用以下命令添加范例所需要的数据
1&amp;gt; db.lession.remove({}); 2WriteResult({ &amp;#34;nRemoved&amp;#34; : 0 }) 1&amp;gt; db.lession.insert({ 2 title: &amp;#39;MongoDB 基础教程&amp;#39;, 3 by_user: &amp;#39;penglei&amp;#39;, 4 tags: [&amp;#39;MongoDB&amp;#39;, &amp;#39;database&amp;#39;, &amp;#39;NoSQL&amp;#39;], 5 favorite: 100 6}); 7WriteResult({ &amp;#34;nInserted&amp;#34; : 1 }) 1&amp;gt; db.lession.insert({ 2 title: &amp;#39;NoSQL 基础教程&amp;#39;, 3 by_user: &amp;#39;penglei&amp;#39;, 4 tags: [&amp;#39;MongoDB&amp;#39;, &amp;#39;database&amp;#39;, &amp;#39;NoSQL&amp;#39;], 5 favorite: 10 6}); 7WriteResult({ &amp;#34;nInserted&amp;#34; : 1 }) 1&amp;gt; db.lession.insert({ 2 title: &amp;#39;Neo4j 基础教程&amp;#39;, 3 by_user: &amp;#39;Neo4j&amp;#39;, 4 tags: [&amp;#39;Neo4j&amp;#39;, &amp;#39;database&amp;#39;, &amp;#39;NoSQL&amp;#39;], 5 favorite: 750 6}); 7WriteResult({ &amp;#34;nInserted&amp;#34; : 1 }) 现在，我们使用以下命令从文档中读取两条记录 1&amp;gt; db.</description></item><item><title>二十、MySQL UPDATE 更新数据</title><link>https://www.shellio.cc/docs/database/mysql/20/</link><pubDate>Sat, 21 Oct 2023 12:22:54 +0800</pubDate><guid>https://www.shellio.cc/docs/database/mysql/20/</guid><description>如果需要修改或更新 MySQL 中某个表中的数据，可以使用 UPDATE SQL 语句
UPDATE SQL 语句语法 UPDATE SQL 语句修改数据的通用语法格式如下
1UPDATE table_name SET field1=new-value1, field2=new-value2 2[WHERE Clause] 可以同时更新一个或多个字段 可以在 WHERE 子句中指定任何条件 可以在一个单独表中同时更新数据 如果没有 WHERE 语句，那么会更新表中的全部数据 注意： 不使用 WHERE 子句将数据表的全部数据进行更新，所以要慎重
通过命令提示符更新数据 可以在mysql&amp;gt; 命令提示窗口中执行 UPDATE SQL 语句更新表中的数据
下面的代码使用 UPDATE SQL 语句将 name='Python' 的数据行中的 url 改成 https://ddkk.com/'
1MariaDB [souyunku]&amp;gt; SELECT * FROM tbl_language WHERE BINARY name=&amp;#39;Python&amp;#39;; 2+----+--------+---------------------+------------+ 3| id | name | url | founded_at | 4+----+--------+---------------------+------------+ 5| 1 | Python | https://ddkk.</description></item><item><title>二十、SQLite Alter 命令</title><link>https://www.shellio.cc/docs/database/sqlite/20/</link><pubDate>Sat, 21 Oct 2023 12:22:54 +0800</pubDate><guid>https://www.shellio.cc/docs/database/sqlite/20/</guid><description>SQLite Alter 命令 SQLite 的 ALTER TABLE 命令不通过执行一个完整的转储和数据的重载来修改已有的表。您可以使用 ALTER TABLE 语句重命名表，使用 ALTER TABLE 语句还可以在已有的表中添加额外的列。
在SQLite 中，除了重命名表和在已有的表中添加列，ALTER TABLE 命令不支持其他操作。
语法 因初次访问，为防止爬虫和人机识别，请关注微信公众号，回复:‘验证码‘获取验证码来解锁全文 解锁内容 用来重命名已有的表的 ALTER TABLE 的基本语法如下：
1ALTER TABLE database_name.table_name RENAME TO new_table_name; 用来在已有的表中添加一个新的列的 ALTER TABLE 的基本语法如下：
1ALTER TABLE database_name.table_name ADD COLUMN column_def...; 实例 假设我们的 COMPANY 表有如下记录：
1ID NAME AGE ADDRESS SALARY 2---------- ---------- ---------- ---------- ---------- 31 Paul 32 California 20000.0 42 Allen 25 Texas 15000.0 53 Teddy 23 Norway 20000.0 64 Mark 25 Rich-Mond 65000.</description></item><item><title>二十八、MongoDB 备份数据( mongodump )</title><link>https://www.shellio.cc/docs/database/mongodb/28/</link><pubDate>Sat, 21 Oct 2023 12:22:54 +0800</pubDate><guid>https://www.shellio.cc/docs/database/mongodb/28/</guid><description>MongoDB mongodump 脚本命令可以导出所有数据到指定目录中
语法 MongoDB mongodump 脚本命令语法如下：
1mongodump -h dbhost -d dbname -o dbdirectory 参数说明 -h： 需要导出 MongDB 数据所在的服务器地址
例如 127.0.0.1 ，当然也可以同时指定端口号：127.0.0.1:27017 -d： 需要备份的数据库，例 test -o： 备份的数据存放位置，例如：/mnt/data/backup/mongodb/
该目录需要提前建立，在备份完成后，系统自动在 mongodb 目录下建立一个 test 目录，这个目录里面存放该数据库实例的备份数据 mongodump 命令可选参数 1、 mongodump–hostHOST_NAME–portPORT_NUMBER；
1该命令将备份所有 MongoDB 数据 1 mongodump --host db1.souyunku.cn --port 27017 2、 mongodump–dbpathDB_PATH–outBACKUP_DIRECTORY；
1该命令备份指定的 DB\_PATH 数据库到 BACKUP\_DIRECTORY 目录 1 mongodump --dbpath /data/db/ --out /data/backup/ 3、 mongodump–collectionCOLLECTION–dbDB_NAME；
1该命令将备份指定数据库 DB\_NAME 的 COLLECTION 集合 1 mongodump --collection lession --db test 范例 1、 首先使用–port27017启动MongoDB服务；</description></item><item><title>二十八、MySQL NULL 值处理</title><link>https://www.shellio.cc/docs/database/mysql/28/</link><pubDate>Sat, 21 Oct 2023 12:22:54 +0800</pubDate><guid>https://www.shellio.cc/docs/database/mysql/28/</guid><description>我们在创建表的时候可以让某个字段为空，比如下面的创建 tbl_language 的语句
1CREATE TABLE IF NOT EXISTS tbl_language( 2 id INT UNSIGNED AUTO_INCREMENT, 3 name VARCHAR(64) NOT NULL, 4 url VARCHAR(128) NOT NULL, 5 founded_at DATE, 6 PRIMARY KEY ( id ) 7)ENGINE=InnoDB DEFAULT CHARSET=utf8mb4; 因为founded_at 没有明确指明 NOT NULL ，所以它是可以为空的
然后我们运行下面的语句插入数据
1truncate tbl_language; 2INSERT INTO tbl_language VALUES 3 (1,&amp;#39;Python&amp;#39;,&amp;#39;https://ddkk.com&amp;#39;,&amp;#39;1991-2-20&amp;#39;), 4 (2,&amp;#39;PHP&amp;#39;,&amp;#39;http://www.php.net&amp;#39;,&amp;#39;1994-1-1&amp;#39;), 5 (3,&amp;#39;Ruby&amp;#39;,&amp;#39;https://www.ruby-lang.org/&amp;#39;,&amp;#39;1996-12-25&amp;#39;), 6 (4,&amp;#39;Kotlin&amp;#39;,&amp;#39;http://kotlinlang.org/&amp;#39;,&amp;#39;2016-02-17&amp;#39;); 7INSERT INTO tbl_language (name,url) VALUES 8 (&amp;#39;Perl&amp;#39;,&amp;#39;http://www.perl.org/&amp;#39;), 9 (&amp;#39;Scala&amp;#39;,&amp;#39;http://www.scala-lang.org/&amp;#39;); 使用不带 WHERE 的 SELECT 语句可以看到 6 条记录</description></item><item><title>二十八、SQLite Vacuum</title><link>https://www.shellio.cc/docs/database/sqlite/28/</link><pubDate>Sat, 21 Oct 2023 12:22:54 +0800</pubDate><guid>https://www.shellio.cc/docs/database/sqlite/28/</guid><description>SQLite Vacuum VACUUM 命令通过复制主数据库中的内容到一个临时数据库文件，然后清空主数据库，并从副本中重新载入原始的数据库文件。这消除了空闲页，把表中的数据排列为连续的，另外会清理数据库文件结构。
如果表中没有明确的整型主键（INTEGER PRIMARY KEY），VACUUM 命令可能会改变表中条目的行 ID（ROWID）。VACUUM 命令只适用于主数据库，附加的数据库文件是不可能使用 VACUUM 命令。
如果有一个活动的事务，VACUUM 命令就会失败。VACUUM 命令是一个用于内存数据库的任何操作。由于 VACUUM 命令从头开始重新创建数据库文件，所以 VACUUM 也可以用于修改许多数据库特定的配置参数。
手动 VACUUM 因初次访问，为防止爬虫和人机识别，请关注微信公众号，回复:‘验证码‘获取验证码来解锁全文 解锁内容 下面是在命令提示符中对整个数据库发出 VACUUM 命令的语法：
1$sqlite3 database_name &amp;#34;VACUUM;&amp;#34; 您也可以在 SQLite 提示符中运行 VACUUM，如下所示：
1sqlite&amp;gt; VACUUM; 您也可以在特定的表上运行 VACUUM，如下所示：
1sqlite&amp;gt; VACUUM table_name; 自动 VACCUM（Auto-VACUUM） SQLite 的 Auto-VACUUM 与 VACUUM 不大一样，它只是把空闲页移到数据库末尾，从而减小数据库大小。通过这样做，它可以明显地把数据库碎片化，而 VACUUM 则是反碎片化。所以 Auto-VACUUM 只会让数据库更小。
在SQLite 提示符中，您可以通过下面的编译运行，启用/禁用 SQLite 的 Auto-VACUUM：
1sqlite&amp;gt; PRAGMA auto_vacuum = NONE; -- 0 means disable auto vacuum 2sqlite&amp;gt; PRAGMA auto_vacuum = INCREMENTAL; -- 1 means enable incremental vacuum 3sqlite&amp;gt; PRAGMA auto_vacuum = FULL; -- 2 means enable full auto vacuum 您可以从命令提示符中运行下面的命令来检查 auto-vacuum 设置：</description></item><item><title>二十二、MongoDB 排序</title><link>https://www.shellio.cc/docs/database/mongodb/22/</link><pubDate>Sat, 21 Oct 2023 12:22:54 +0800</pubDate><guid>https://www.shellio.cc/docs/database/mongodb/22/</guid><description>MongoDB sort() 方法可以通过参数指定排序的字段，并使用 1 和 -1 来指定排序的方式，其中 1 为升序排列，而-1是用于降序排列
语法 sort() 方法语法如下
1&amp;gt; db.COLLECTION_NAME.find().sort({KEY:1}) 范例 使用以下命令添加范例所需要的数据
1&amp;gt; db.lession.remove({}); 2WriteResult({ &amp;#34;nRemoved&amp;#34; : 0 }) 1&amp;gt; db.lession.insert({ 2 title: &amp;#39;MongoDB 基础教程&amp;#39;, 3 by_user: &amp;#39;penglei&amp;#39;, 4 tags: [&amp;#39;MongoDB&amp;#39;, &amp;#39;database&amp;#39;, &amp;#39;NoSQL&amp;#39;], 5 favorite: 100 6}); 7WriteResult({ &amp;#34;nInserted&amp;#34; : 1 }) 1&amp;gt; db.lession.insert({ 2 title: &amp;#39;NoSQL 基础教程&amp;#39;, 3 by_user: &amp;#39;penglei&amp;#39;, 4 tags: [&amp;#39;MongoDB&amp;#39;, &amp;#39;database&amp;#39;, &amp;#39;NoSQL&amp;#39;], 5 favorite: 10 6}); 7WriteResult({ &amp;#34;nInserted&amp;#34; : 1 }) 1&amp;gt; db.</description></item><item><title>二十二、MySQL 返回删改查受影响的行数</title><link>https://www.shellio.cc/docs/database/mysql/22/</link><pubDate>Sat, 21 Oct 2023 12:22:54 +0800</pubDate><guid>https://www.shellio.cc/docs/database/mysql/22/</guid><description>在执行SELECT 、 DELATE 和 UPDATE 命令时最关心的应该是查询或删除或更新了多少条数据
这在mysql&amp;gt; 命令行中使用时是非常直观的，比如下面的执行结果
DELETE 1MariaDB [souyunku]&amp;gt;` DELETE FROM tbl_language WHERE name=&amp;#39;Python&amp;#39;; 2Query OK, 1 row affected (0.01 sec) 1row affected 表示删除了一条
UPDATE 1MariaDB [souyunku]&amp;gt; UPDATE tbl_language SET url=&amp;#39;https://ddkk.com/&amp;#39; WHERE name=&amp;#39;Python&amp;#39;; 2Query OK, 1 row affected (0.01 sec) 3Rows matched: 1 Changed: 1 Warnings: 0 1row affected 表示更新了一条
SELECT 1MariaDB [souyunku]&amp;gt; SELECT * FROM tbl_language WHERE name=&amp;#39;Python&amp;#39;; 2+----+--------+----------------------+------------+ 3| id | name | url | founded_at | 4+----+--------+----------------------+------------+ 5| 1 | Python | https://ddkk.</description></item><item><title>二十二、SQLite 视图</title><link>https://www.shellio.cc/docs/database/sqlite/22/</link><pubDate>Sat, 21 Oct 2023 12:22:54 +0800</pubDate><guid>https://www.shellio.cc/docs/database/sqlite/22/</guid><description>SQLite 视图（View） 视图（View）只不过是通过相关的名称存储在数据库中的一个 SQLite 语句。视图（View）实际上是一个以预定义的 SQLite 查询形式存在的表的组合。
视图（View）可以包含一个表的所有行或从一个或多个表选定行。视图（View）可以从一个或多个表创建，这取决于要创建视图的 SQLite 查询。、
视图（View）是一种虚表，允许用户实现以下几点：
用户或用户组查找结构数据的方式更自然或直观。 限制数据访问，用户只能看到有限的数据，而不是完整的表。 汇总各种表中的数据，用于生成报告。 SQLite 视图是只读的，因此可能无法在视图上执行 DELETE、INSERT 或 UPDATE 语句。但是可以在视图上创建一个触发器，当尝试 DELETE、INSERT 或 UPDATE 视图时触发，需要做的动作在触发器内容中定义。
创建视图 因初次访问，为防止爬虫和人机识别，请关注微信公众号，回复:‘验证码‘获取验证码来解锁全文 解锁内容 SQLite 的视图是使用 CREATE VIEW 语句创建的。SQLite 视图可以从一个单一的表、多个表或其他视图创建。
CREATE VIEW 的基本语法如下：
1CREATE [TEMP | TEMPORARY] VIEW view_name AS 2SELECT column1, column2..... 3FROM table_name 4WHERE [condition]; 您可以在 SELECT 语句中包含多个表，这与在正常的 SQL SELECT 查询中的方式非常相似。如果使用了可选的 TEMP 或 TEMPORARY 关键字，则将在临时数据库中创建视图。
实例 假设COMPANY 表有以下记录：
1ID NAME AGE ADDRESS SALARY 2---------- ---------- ---------- ---------- ---------- 31 Paul 32 California 20000.</description></item><item><title>二十九、MongoDB 恢复数据( mongorestore )</title><link>https://www.shellio.cc/docs/database/mongodb/29/</link><pubDate>Sat, 21 Oct 2023 12:22:54 +0800</pubDate><guid>https://www.shellio.cc/docs/database/mongodb/29/</guid><description>语法 MongoDB mongorestore 命令脚本语法如下
1$ mongorestore -h &amp;lt;hostname&amp;gt;&amp;lt;:port&amp;gt; -d dbname &amp;lt;path&amp;gt; 参数说明 -h &amp;lt;:port&amp;gt;, -h&amp;lt;:port&amp;gt; MongoDB 所在服务器地址，默认为 localhost:27017
–db, -d 需要恢复的数据库实例
例如：test，这个名称也可以和备份时候的不一样，比如 test2
--drop 设置恢复的时候，先删除当前数据，然后恢复备份的数据 就是说，恢复后，备份后添加修改的数据都会被删除
慎用
mongorestore 最后的一个参数，设置备份数据所在位置，例如：/mnt/data/backup/mongodb 不能同时指定 和 –dir 选项
–dir 指定备份的目录
不能同时指定 和 –dir 选项
范例 现在，我们使用刚刚备份的数据来恢复 MongoDB 数据库
1&amp;gt;mongorestore 执行以上命令输出结果如下
1$ mongorestore 22017-10-24T07:28:58.400+0800 using default &amp;#39;dump&amp;#39; directory 32017-10-24T07:28:58.401+0800 preparing collections to restore from 42017-10-24T07:28:58.407+0800 reading metadata for gridfs.fs.chunks from dump/gridfs/fs.chunks.metadata.json 52017-10-24T07:28:58.407+0800 reading metadata for rbtj.rb_visit_log from dump/rbtj/rb_visit_log.</description></item><item><title>二十九、MySQL REGEXP 子句正则表达式查询</title><link>https://www.shellio.cc/docs/database/mysql/29/</link><pubDate>Sat, 21 Oct 2023 12:22:54 +0800</pubDate><guid>https://www.shellio.cc/docs/database/mysql/29/</guid><description>前面章节中我们已经了解到 MySQL 可以通过 LIKE ...% 子句来进行模糊匹配，但这都只是简单的模糊查询，也是速度最快的模糊查询
除此之外，MySQL 同样也支持其它正则表达式的匹配
MySQL 通过使用 REGEXP 操作符来进行正则表达式匹配
如果你了解过其它语言的正则表达式，比如 PHP 或 Perl 等，那么你会对 MySQL 的正则表达式元字符非常熟悉，因为它们都类似
MySQL REGEXP 操作符支持以下几种元子符
元字符 描述 ^ 匹配输入字符串的开始位置
如果设置了 Multiline 属性，^ 也匹配 ‘\n’ 或 ‘\r’ 之后的位置 $ 匹配输入字符串的结束位置
如果设置了 Multiline 属性，$ 也匹配 ‘\n’ 或 ‘\r’ 之前的位置 . 匹配除 “\n” 之外的任何单个字符
如果要匹配包括 ‘\n’ 在内的任何字符，请使用象 ‘[.\n]’ 的模式 […] 字符集合。匹配所包含的任意一个字符
例如， ‘[abc]’ 可以匹配 “plain” 中的 ‘a’ [^…] 负值字符集合。匹配未包含的任意字符
例如， ‘[^abc]’ 可以匹配 “plain” 中的’p’ p1|p2|p3 匹配 p1 或 p2 或 p3</description></item><item><title>二十九、SQLite 常用函数</title><link>https://www.shellio.cc/docs/database/sqlite/29/</link><pubDate>Sat, 21 Oct 2023 12:22:54 +0800</pubDate><guid>https://www.shellio.cc/docs/database/sqlite/29/</guid><description>SQLite 常用函数 SQLite 有许多内置函数用于处理字符串或数字数据。下面列出了一些有用的 SQLite 内置函数，且所有函数都是大小写不敏感，这意味着您可以使用这些函数的小写形式或大写形式或混合形式。欲了解更多详情，请查看 SQLite 的官方文档：
序号 函数 &amp;amp; 描述 1 SQLite COUNT 函数
SQLite COUNT 聚集函数是用来计算一个数据库表中的行数。 2 SQLite MAX 函数
SQLite MAX 聚合函数允许我们选择某列的最大值。 3 SQLite MIN 函数
SQLite MIN 聚合函数允许我们选择某列的最小值。 4 SQLite AVG 函数
SQLite AVG 聚合函数计算某列的平均值。 5 SQLite SUM 函数
SQLite SUM 聚合函数允许为一个数值列计算总和。 6 SQLite RANDOM 函数
SQLite RANDOM 函数返回一个介于 -9223372036854775808 和 +9223372036854775807 之间的伪随机整数。 7 SQLite ABS 函数
SQLite ABS 函数返回数值参数的绝对值。 8 SQLite UPPER 函数
SQLite UPPER 函数把字符串转换为大写字母。 9 SQLite LOWER 函数</description></item><item><title>二十六、MongoDB 副本集群复制</title><link>https://www.shellio.cc/docs/database/mongodb/26/</link><pubDate>Sat, 21 Oct 2023 12:22:54 +0800</pubDate><guid>https://www.shellio.cc/docs/database/mongodb/26/</guid><description>MongoDB 副本集群在多个服务器上存储数据副本，提供了数据的冗余备份，提高了数据的可用性，可以保证数据的安全性
MongoDB 副本集群技术允许我们从硬件故障和服务中断中恢复数据
副本集群的优势 ？ 1、 保障数据的安全性；
2、 数据高可用性(24*7)；
3、 灾难恢复；
4、 无需停机维护（如备份，重建索引，压缩）；
5、 分布式读取数据；
MongoDB 副本集群原理 因初次访问，为防止爬虫和人机识别，请关注微信公众号，回复:‘验证码‘获取验证码来解锁全文 解锁内容 MongoDB 副本集群技术至少需要两个节点：一个是主节点，负责处理客户端请求，其余的都是从节点，负责复制主节点上的数据
主节点记录在其上的所有操作 oplog 从节点定期轮询主节点获取这些操作，然后对自己的数据副本执行这些操作，从而保证从节点的数据与主节点一致 MongoDB 副本集群各个节点常见的搭配方式为：一主一从 和 一主多从
MongoDB 副本集群结构图 客户端从主节点读取数据，在客户端写入数据到主节点时， 主节点与从节点进行数据交互保障数据的一致性
副本集群特征 1、 N个节点的集群；
2、 任何节点可作为主节点；
3、 所有写入操作都在主节点上；
4、 自动故障转移；
5、 自动恢复；
MongoDB 副本集群配置 接下来我们将搭建 一主一从 副本集群
搭建步骤如下
1、 关闭正在运行的MongoDB服务；
1先关闭正在运行的 MongoDB 服务，然后通过指定 --replSet 选项来启动 mongoDB 2**--replSet** 语法格式如下 1 mongod --port &amp;#34;PORT&amp;#34; --dbpath &amp;#34;YOUR_DB_DATA_PATH&amp;#34; --replSet &amp;#34;REPLICA_SET_INSTANCE_NAME&amp;#34; 1**范例** 1 mongod --port 27017 --dbpath &amp;#34;D:\set up\mongodb\data&amp;#34; --replSet rs0 1上面的命令会启动一个名为 rs0 的 MongoDB 实例，其端口号为 27017 2、 启动后新打开命令提示框并连接上mongoDB服务；</description></item><item><title>二十六、MySQL GROUP BY 分组查询数据</title><link>https://www.shellio.cc/docs/database/mysql/26/</link><pubDate>Sat, 21 Oct 2023 12:22:54 +0800</pubDate><guid>https://www.shellio.cc/docs/database/mysql/26/</guid><description>GROUP BY 语句根据一个或多个列对结果集进行分组
在分组的列上可以使用 COUNT(), SUM(), AVG() 等函数
GROUP BY 语法格式 SQLSELECT 中语句使用 GROUP BY 子句对查询数据进行分组的语法格式如下
1SELECT column_name, function(column_name) 2FROM table_name 3WHERE column_name operator value 4GROUP BY column_name; 范例数据 可以在mysql&amp;gt; 命令行中运行以下语句填充范例数据
1DROP TABLE IF EXISTS tbl_language; 2DROP TABLE IF EXISTS tbl_rank; 3CREATE TABLE IF NOT EXISTS tbl_language( 4 id INT UNSIGNED AUTO_INCREMENT, 5 name VARCHAR(64) NOT NULL, 6 url VARCHAR(128) NOT NULL, 7 founded_at DATE, 8 PRIMARY KEY ( id ) 9)ENGINE=InnoDB DEFAULT CHARSET=utf8mb4; 10CREATE TABLE IF NOT EXISTS tbl_rank( 11 id INT UNSIGNED AUTO_INCREMENT, 12 name VARCHAR(64) NOT NULL, 13 month VARCHAR(7) NOT NULL, 14 rank TINYINT NOT NULL, 15 rate VARCHAR(32) NOT NULL, 16 PRIMARY KEY ( id ) 17)ENGINE=InnoDB DEFAULT CHARSET=utf8mb4; 18INSERT INTO tbl_language VALUES 19 (1,&amp;#39;Python&amp;#39;,&amp;#39;https://ddkk.</description></item><item><title>二十六、SQLite 注入</title><link>https://www.shellio.cc/docs/database/sqlite/26/</link><pubDate>Sat, 21 Oct 2023 12:22:54 +0800</pubDate><guid>https://www.shellio.cc/docs/database/sqlite/26/</guid><description>SQLite 注入 如果您的站点允许用户通过网页输入，并将输入内容插入到 SQLite 数据库中，这个时候您就面临着一个被称为 SQL 注入的安全问题。本章节将向您讲解如何防止这种情况的发生，确保脚本和 SQLite 语句的安全。
注入通常在请求用户输入时发生，比如需要用户输入姓名，但用户却输入了一个 SQLite 语句，而这语句就会在不知不觉中在数据库上运行。
永远不要相信用户提供的数据，所以只处理通过验证的数据，这项规则是通过模式匹配来完成的。在下面的实例中，用户名 username 被限制为字母数字字符或者下划线，长度必须在 8 到 20 个字符之间 – 请根据需要修改这些规则。
1if (preg_match(&amp;#34;/^\w{8,20}$/&amp;#34;, $_GET[&amp;#39;username&amp;#39;], $matches)){ 2 $db = new SQLiteDatabase(&amp;#39;filename&amp;#39;); 3 $result = @$db-&amp;gt;query(&amp;#34;SELECT * FROM users WHERE username=$matches[0]&amp;#34;); 4}else{ 5 echo &amp;#34;username not accepted&amp;#34;; 为了演示这个问题，假设考虑此摘录：To demonstrate the problem, consider this excerpt:
1$name = &amp;#34;Qadir&amp;#39;; DELETE FROM users;&amp;#34;; 2@$db-&amp;gt;query(&amp;#34;SELECT * FROM users WHERE username=&amp;#39;{$name}&amp;#39;&amp;#34;); 函数调用是为了从用户表中检索 name 列与用户指定的名称相匹配的记录。正常情况下，$name 只包含字母数字字符或者空格，比如字符串 ilia。但在这里，向 $name 追加了一个全新的查询，这个对数据库的调用将会造成灾难性的问题：注入的 DELETE 查询会删除 users 的所有记录。</description></item><item><title>二十七、MongoDB 分片集群技术</title><link>https://www.shellio.cc/docs/database/mongodb/27/</link><pubDate>Sat, 21 Oct 2023 12:22:54 +0800</pubDate><guid>https://www.shellio.cc/docs/database/mongodb/27/</guid><description>海量的数据使得单台 MongoDB 存储显得吃力且难以满足提供可接受的读写吞吐量
通过将数据分割到多台服务器就变得越来越重要，使得 MongoDB 数据库系统能存储和处理更多的数据
为什么使用分片 1、 复制所有的写入操作到主节点；
2、 延迟的敏感数据会在主节点查询；
3、 单个副本集限制在12个节点；
4、 当请求量巨大时会出现内存不足；
5、 本地磁盘不足；
6、 垂直扩展价格昂贵；
MongoDB分片 因初次访问，为防止爬虫和人机识别，请关注微信公众号，回复:‘验证码‘获取验证码来解锁全文 解锁内容 下图展示了 MongoDB 分片集群结构分布
MongoDB 分片集群技术主要有三个组件
1、 ShardServer；
1用于存储实际的数据块 2一个 shard server 角色可由几台机器组一个负载均衡承担，防止主机单点故障 2、 ConfigServer；
1mongod 实例，存储了整个 Cluster Metadata，包括 chunk 信息 3、 QueryRouters；
1前端路由 2客户端由此接入，且让整个集群看上去像单一数据库 MongoDB 分片技术搭建范例 假设 MongoDB 分片集群结构组件如下所示 Shard Server 1Shard Server 1：localhost:27020 2Shard Server 2：localhost:27021 3Shard Server 3：localhost:27022 4Shard Server 4：localhost:27023 Config Server 1Config Server ：localhost:27100 Query Routers Server 1Route Process：localhost:40000 MongoDB 分片集群搭建步骤 1、 启动ShardServer；</description></item><item><title>二十七、MySQL JOIN 进行多表查询</title><link>https://www.shellio.cc/docs/database/mysql/27/</link><pubDate>Sat, 21 Oct 2023 12:22:54 +0800</pubDate><guid>https://www.shellio.cc/docs/database/mysql/27/</guid><description>前面我们学的都是单张表的操作，都比较简单，但数据往往是多张表组成的，往往需要从多张表中查找数据
这时候就会用到表连接，也就是两张或者多张表如何组成一张大表，然后从大表里查找数据
连表方式 我们先来看看两张表连接的情况，我们假设两张表，A 表 和 B 表，如下图
当我们把两张表和在一起的时候，有一种拼合法只取表头颜色一样的拼在一起，不一样的扔掉，就像下图一样，这种拼接法，我们称之为 内连接
还有一种拼接法就是把 A 表中的都留下来，然后从 B 中找对应的颜色粘合在一起，就像下图一样，我们称之为 左连接
还有一种拼接法就是把 B 表中的都留下来，然后从 A 表里找对应的颜色粘合在一起,就像下图一样，我们称之为 右连接
最后一种拼接法，就是 A 表中的都留下，然后从 B 表中找对应的颜色粘合在一起，剩下的那些 B 表中的则全部排在最后，并不扔掉，就先下图一样，我们称之为 外链接
注意： 记住我刚刚说的查找过程，因为这是面试常考题目，就是先把一张表的记录查出来，然后根据记录一条一条去另一张表里找，这是不是很像我们堆积木游戏一样，表连接的本质过程也是这样，所以才导致了表连接很慢
如果有三张，四张，五张表也是同一个道理
这里有一点没演示到，就是如果任何一张表中有重复的表头颜色，那么也会重复显示一次
MySQL 中的连表 因初次访问，为防止爬虫和人机识别，请关注微信公众号，回复:‘验证码‘获取验证码来解锁全文 解锁内容 MySQL 支持上面四种连接中的前三种，第四种外连接不支持
可以在SELECT, UPDATE 和 DELETE 语句中使用 MySQL 的 JOIN 来联合多表查询
连表方式 名称 说明 INNER JOIN 内连接 获取两个表中字段匹配关系的记录 LEFT JOIN 左连接 获取左表所有记录，即使右表没有对应匹配的记录 RIGHT JOIN 右连接 获取右表所有记录，即使左表没有对应匹配的记录 MySQL 中的 INNER JOIN 可以省略 INNER 关键字，也就是 JOIN == INNER JOIN</description></item><item><title>二十七、SQLite Explain</title><link>https://www.shellio.cc/docs/database/sqlite/27/</link><pubDate>Sat, 21 Oct 2023 12:22:54 +0800</pubDate><guid>https://www.shellio.cc/docs/database/sqlite/27/</guid><description>SQLite Explain（解释） 在SQLite 语句之前，可以使用 “EXPLAIN” 关键字或 “EXPLAIN QUERY PLAN” 短语，用于描述表的细节。
如果省略了 EXPLAIN 关键字或短语，任何的修改都会引起 SQLite 语句的查询行为，并返回有关 SQLite 语句如何操作的信息。
来自 EXPLAIN 和 EXPLAIN QUERY PLAN 的输出只用于交互式分析和排除故障。 输出格式的细节可能会随着 SQLite 版本的不同而有所变化。 应用程序不应该使用 EXPLAIN 或 EXPLAIN QUERY PLAN，因为其确切的行为是可变的且只有部分会被记录。 语法 因初次访问，为防止爬虫和人机识别，请关注微信公众号，回复:‘验证码‘获取验证码来解锁全文 解锁内容 EXPLAIN 的语法如下：
1EXPLAIN [SQLite Query] EXPLAIN QUERY PLAN 的语法如下：
1EXPLAIN QUERY PLAN [SQLite Query] 实例 假设COMPANY 表有以下记录：
1ID NAME AGE ADDRESS SALARY 2---------- ---------- ---------- ---------- ---------- 31 Paul 32 California 20000.0 42 Allen 25 Texas 15000.</description></item><item><title>二十三、MongoDB 索引</title><link>https://www.shellio.cc/docs/database/mongodb/23/</link><pubDate>Sat, 21 Oct 2023 12:22:54 +0800</pubDate><guid>https://www.shellio.cc/docs/database/mongodb/23/</guid><description>索引通常可以提高查询的效率，如果没有索引，MongoDB 在读取数据时必须扫描集合中的每个文件并选取那些符合查询条件的记录
这种扫描全集合的查询效率是非常低的，特别在处理大量的数据时，查询可以要花费几十秒甚至几分钟，这对网站的性能是非常致命的
索引是特殊的数据结构，索引存储在一个易于遍历读取的数据集合中，索引是对数据库表中一列或多列的值进行排序的一种结构
ensureIndex() 方法 MongoDB ensureIndex() 方法可以用来来创建索引
语法 ensureIndex() 方法语法格式如下
1&amp;gt; db.COLLECTION_NAME.ensureIndex({KEY:1}) Key ： 要创建的索引字段
1 按升序创建索引
-1 按降序来创建索引
范例 下面的代码在 lession 集合上创建了 title 字段升序的索引
1&amp;gt; db.lession.ensureIndex({&amp;#34;title&amp;#34;:1}) 多字段索引 ( 复合索引 ) MongoDB ensureIndex() 方法可以用来创建多个字段创建索引 ( 复合索引 )
1&amp;gt;db.lession.ensureIndex({&amp;#34;title&amp;#34;:1,&amp;#34;description&amp;#34;:-1}) 2&amp;gt; ensureIndex() 方法可以接收可选参数 参数名 类型 描述 background Boolean 建索引过程会阻塞其它数据库操作，background可指定以后台方式创建索引，即增加 “background” 可选参数。 “background” 默认值为false unique Boolean 建立的索引是否唯一。指定为true创建唯一索引。默认值为 false name string 索引的名称。如果未指定，MongoDB的通过连接索引的字段名和排序顺序生成一个索引名称 dropDups Boolean 在建立唯一索引时是否删除重复记录,指定 true 创建唯一索引。默认值为false sparse Boolean 对文档中不存在的字段数据不启用索引；这个参数需要特别注意，如果设置为true的话，在索引字段中不会查询出不包含对应字段的文档.。默认值为 false expireAfterSeconds integer 指定一个以秒为单位的数值，完成 TTL设定，设定集合的生存时间。 v index version 索引的版本号。默认的索引版本取决于mongod创建索引时运行的版本。 weights document 索引权重值，数值在 1 到 99,999 之间，表示该索引相对于其他索引字段的得分权重 default_language string 对于文本索引，该参数决定了停用词及词干和词器的规则的列表。 默认为英语 language_override string 对于文本索引，该参数指定了包含在文档中的字段名，语言覆盖默认的 language，默认值为 language 范例 在后台创建索引</description></item><item><title>二十三、MySQL LIKE 子句模糊查询数据</title><link>https://www.shellio.cc/docs/database/mysql/23/</link><pubDate>Sat, 21 Oct 2023 12:22:54 +0800</pubDate><guid>https://www.shellio.cc/docs/database/mysql/23/</guid><description>我们知道在 MySQL 中可以使用 SQL SELECT FROM 命令查询数据，也可以在 SELECT FROM 语句中使用 WHERE 子句有条件的获取指定的记录
我们知道 = 操作符用于完全匹配某个条件，比如 name='Python 只能查询 name 为 Python 的记录，却不能查询以 P 开头的记录
但如果我们想要查询 name 以 P 开头的记录要怎么做呢？
答案就是在 WHERE 字句中使用 LIKE 子句
LIKE 子句 LIKE 子句用于设定模糊查询条件
LIKE 子句中可以使用 百分号% 字符来表示任意字符，比如 P% 可以匹配以 P 开头的所有字符串，%on 可以匹配所有以 on 结尾的字符串
LIKE 子句语法 在SELECT FROM 语句使用 LIKE 子句从数据表中读取数据的语法格式如下
1SELECT field1, field2,...fieldN 2FROM table_name 3WHERE field1 LIKE condition1 [AND [OR]] filed2 = &amp;#39;somevalue&amp;#39; 可以在 WHERE 子句中使用 LIKE 子句 LIKE 通常与 % 一同使用，类似于一个元字符的搜索 可以在DELETE 或 UPDATE 命令中使用 WHERE.</description></item><item><title>二十三、SQLite 事务</title><link>https://www.shellio.cc/docs/database/sqlite/23/</link><pubDate>Sat, 21 Oct 2023 12:22:54 +0800</pubDate><guid>https://www.shellio.cc/docs/database/sqlite/23/</guid><description>SQLite 事务（Transaction） 事务（Transaction）是一个对数据库执行工作单元。事务（Transaction）是以逻辑顺序完成的工作单位或序列，可以是由用户手动操作完成，也可以是由某种数据库程序自动完成。
事务（Transaction）是指一个或多个更改数据库的扩展。例如，如果您正在创建一个记录或者更新一个记录或者从表中删除一个记录，那么您正在该表上执行事务。重要的是要控制事务以确保数据的完整性和处理数据库错误。
实际上，您可以把许多的 SQLite 查询联合成一组，把所有这些放在一起作为事务的一部分进行执行。
事务的属性 因初次访问，为防止爬虫和人机识别，请关注微信公众号，回复:‘验证码‘获取验证码来解锁全文 解锁内容 事务（Transaction）具有以下四个标准属性，通常根据首字母缩写为 ACID：
**原子性（Atomicity）：**确保工作单位内的所有操作都成功完成，否则，事务会在出现故障时终止，之前的操作也会回滚到以前的状态。 **一致性（Consistency)：**确保数据库在成功提交的事务上正确地改变状态。 **隔离性（Isolation）：**使事务操作相互独立和透明。 **持久性（Durability）：**确保已提交事务的结果或效果在系统发生故障的情况下仍然存在。 事务控制 使用下面的命令来控制事务：
BEGIN TRANSACTION：开始事务处理。 COMMIT：保存更改，或者可以使用 END TRANSACTION 命令。 ROLLBACK：回滚所做的更改。 事务控制命令只与 DML 命令 INSERT、UPDATE 和 DELETE 一起使用。他们不能在创建表或删除表时使用，因为这些操作在数据库中是自动提交的。
BEGIN TRANSACTION 命令 事务（Transaction）可以使用 BEGIN TRANSACTION 命令或简单的 BEGIN 命令来启动。此类事务通常会持续执行下去，直到遇到下一个 COMMIT 或 ROLLBACK 命令。不过在数据库关闭或发生错误时，事务处理也会回滚。以下是启动一个事务的简单语法：
1BEGIN; 2or 3BEGIN TRANSACTION; COMMIT 命令 COMMIT 命令是用于把事务调用的更改保存到数据库中的事务命令。
COMMIT 命令把自上次 COMMIT 或 ROLLBACK 命令以来的所有事务保存到数据库。
COMMIT 命令的语法如下：
1COMMIT; 2or 3END TRANSACTION; ROLLBACK 命令 ROLLBACK 命令是用于撤消尚未保存到数据库的事务的事务命令。
ROLLBACK 命令只能用于撤销自上次发出 COMMIT 或 ROLLBACK 命令以来的事务。</description></item><item><title>二十四、MongoDB 聚合运算( aggregate )</title><link>https://www.shellio.cc/docs/database/mongodb/24/</link><pubDate>Sat, 21 Oct 2023 12:22:54 +0800</pubDate><guid>https://www.shellio.cc/docs/database/mongodb/24/</guid><description>MongoDB 聚合有点类似 SQL 语句中的 COUNT( * )
aggregate() 方法 MongoDB aggregate() 为 MongoDB 数据库提供了聚合运算
语法 aggregate() 方法的语法如下
1&amp;gt; db.COLLECTION_NAME.aggregate(AGGREGATE_OPERATION) 范例 使用以下命令添加范例所需要的数据
1&amp;gt; db.lession.remove({}); 2WriteResult({ &amp;#34;nRemoved&amp;#34; : 0 }) 1&amp;gt; db.lession.insert({ 2 title: &amp;#39;MongoDB 基础教程&amp;#39;, 3 by_user: &amp;#39;penglei&amp;#39;, 4 tags: [&amp;#39;MongoDB&amp;#39;, &amp;#39;database&amp;#39;, &amp;#39;NoSQL&amp;#39;], 5 favorite: 100 6}); 7WriteResult({ &amp;#34;nInserted&amp;#34; : 1 }) 1&amp;gt; db.lession.insert({ 2 title: &amp;#39;NoSQL 基础教程&amp;#39;, 3 by_user: &amp;#39;penglei&amp;#39;, 4 tags: [&amp;#39;MongoDB&amp;#39;, &amp;#39;database&amp;#39;, &amp;#39;NoSQL&amp;#39;], 5 favorite: 10 6}); 7WriteResult({ &amp;#34;nInserted&amp;#34; : 1 }) 1&amp;gt; db.</description></item><item><title>二十四、MySQL UNION 操作符查询多张表</title><link>https://www.shellio.cc/docs/database/mysql/24/</link><pubDate>Sat, 21 Oct 2023 12:22:54 +0800</pubDate><guid>https://www.shellio.cc/docs/database/mysql/24/</guid><description>MySQL UNION 操作符用于连接两个以上的 SELECT 语句的结果组合到一个结果集合中
多个SELECT 语句会删除重复的数据
UNION 操作符语法 MySQL UNION 操作符的语法格式如下
1SELECT expression1, expression2, ... expression_n 2FROM tables 3[WHERE conditions] 4UNION [ALL | DISTINCT] 5SELECT expression1, expression2, ... expression_n 6FROM tables 7[WHERE conditions]; 参数 说明 expression1, expression2, … expression_n 要检索的列 tables 要检索的数据表 WHERE conditions 可选， 检索条件 DISTINCT 可选，删除结果集中重复的数据
默认情况下 UNION 操作符已经删除了重复数据
所以 DISTINCT 修饰符对结果没啥影响 ALL 可选，返回所有结果集，包含重复数据 范例数据 可以在mysql&amp;gt; 命令行中运行以下语句填充范例数据
1DROP TABLE IF EXISTS tbl_language; 2DROP TABLE IF EXISTS tbl_rank; 3CREATE TABLE IF NOT EXISTS tbl_language( 4 id INT UNSIGNED AUTO_INCREMENT, 5 name VARCHAR(64) NOT NULL, 6 url VARCHAR(128) NOT NULL, 7 founded_at DATE, 8 PRIMARY KEY ( id ) 9)ENGINE=InnoDB DEFAULT CHARSET=utf8mb4; 10CREATE TABLE IF NOT EXISTS tbl_rank( 11 id INT UNSIGNED AUTO_INCREMENT, 12 name VARCHAR(64) NOT NULL, 13 month VARCHAR(7) NOT NULL, 14 rank TINYINT NOT NULL, 15 rate VARCHAR(32) NOT NULL, 16 PRIMARY KEY ( id ) 17)ENGINE=InnoDB DEFAULT CHARSET=utf8mb4; 18INSERT INTO tbl_language VALUES 19 (1,&amp;#39;Python&amp;#39;,&amp;#39;https://ddkk.</description></item><item><title>二十四、SQLite 子查询</title><link>https://www.shellio.cc/docs/database/sqlite/24/</link><pubDate>Sat, 21 Oct 2023 12:22:54 +0800</pubDate><guid>https://www.shellio.cc/docs/database/sqlite/24/</guid><description>SQLite 子查询 子查询或内部查询或嵌套查询是在另一个 SQLite 查询内嵌入在 WHERE 子句中的查询。
使用子查询返回的数据将被用在主查询中作为条件，以进一步限制要检索的数据。
子查询可以与 SELECT、INSERT、UPDATE 和 DELETE 语句一起使用，可伴随着使用运算符如 =、&amp;lt;、&amp;gt;、&amp;gt;=、&amp;lt;=、IN、BETWEEN 等。
以下是子查询必须遵循的几个规则：
子查询必须用括号括起来。 子查询在 SELECT 子句中只能有一个列，除非在主查询中有多列，与子查询的所选列进行比较。 ORDER BY 不能用在子查询中，虽然主查询可以使用 ORDER BY。可以在子查询中使用 GROUP BY，功能与 ORDER BY 相同。 子查询返回多于一行，只能与多值运算符一起使用，如 IN 运算符。 BETWEEN 运算符不能与子查询一起使用，但是，BETWEEN 可在子查询内使用。 SELECT 语句中的子查询使用 因初次访问，为防止爬虫和人机识别，请关注微信公众号，回复:‘验证码‘获取验证码来解锁全文 解锁内容 子查询通常与 SELECT 语句一起使用。基本语法如下：
1SELECT column_name [, column_name ] 2FROM table1 [, table2 ] 3WHERE column_name OPERATOR 4 (SELECT column_name [, column_name ] 5 FROM table1 [, table2 ] 6 [WHERE]) 实例 假设COMPANY 表有以下记录：</description></item><item><title>二十五、MongoDB 聚合运算 – 管道</title><link>https://www.shellio.cc/docs/database/mongodb/25/</link><pubDate>Sat, 21 Oct 2023 12:22:54 +0800</pubDate><guid>https://www.shellio.cc/docs/database/mongodb/25/</guid><description>MongoDB 管道操作是可以重复的
管道在Linux 中一般用于将当前命令的输出结果作为下一个命令的参数
表达式 MongoDB 表达式用于处理输入文档并输出
表达式是无状态的，只能用于计算当前聚合管道的文档，不能处理其它的文档
MongoDB 聚合运算中常用的操作 1、 $project；
1修改输入文档的结构 2可以用来重命名、增加或删除域，也可以用于创建计算结果以及嵌套文档 2、 $match；
1用于过滤数据，只输出符合条件的文档 2$match 使用 MongoDB 的标准查询操作 3、 $limit；
1用来限制 MongoDB 聚合管道返回的文档数 4、 $skip；
1在聚合管道中跳过指定数量的文档，并返回余下的文档 5、 $unwind；
1将文档中的某一个数组类型字段拆分成多条，每条包含数组中的一个值 6、 $group；
1将集合中的文档分组，可用于统计结果 7、 $sort；
1将输入文档排序后输出 8、 $geoNear；
1输出接近某一地理位置的有序文档 管道聚合运算操作范例 1、 $project；
1 &amp;gt; db.article.aggregate({ $project : {title : 1 ,author : 1 ,}}); 1上面聚合操作输出的结果中只有 *\_id* , *tilte* 和 *author* 三个字段 2默认情况下 \_id 字段是被包含的，如果要想不包含 \_id 话可以这样 1 &amp;gt; db.</description></item><item><title>二十五、MySQL ORDER BY 排序</title><link>https://www.shellio.cc/docs/database/mysql/25/</link><pubDate>Sat, 21 Oct 2023 12:22:54 +0800</pubDate><guid>https://www.shellio.cc/docs/database/mysql/25/</guid><description>前面我们学到了可以使用 SELECT FROM 从 MySQL 中查询数据，但是，查出来数据的排序可能不是我们想要的，比如我们想根据 name 排序，要怎么做呢？
答案就是使用 MySQL 的 ORDER BY 子句
ORDER BY 子句可以设定想按哪个字段哪种方式来进行排序，再返回搜索结果
ORDER BY 子句语法 SQLSELECT 中语句使用 ORDER BY 子句对查询数据进行排序的语法格式如下
1SELECT field1, field2,...fieldN table_name1, table_name2... 2ORDER BY field1, [field2...] [ASC [DESC]] 可以使用任何字段来作为排序的条件，从而返回排序后的查询结果 可以设定多个字段来排序 可以使用 ASC 或 DESC 关键字来设置查询结果是按升序或降序排列 默认情况下按升序排列 可以添加 WHERE 子句来设置条件 范例数据 可以在mysql&amp;gt; 命令行中运行以下语句填充范例数据
1DROP TABLE IF EXISTS tbl_language; 2CREATE TABLE IF NOT EXISTS tbl_language( 3 id INT UNSIGNED AUTO_INCREMENT, 4 name VARCHAR(64) NOT NULL, 5 url VARCHAR(128) NOT NULL, 6 founded_at DATE, 7 PRIMARY KEY ( id ) 8)ENGINE=InnoDB DEFAULT CHARSET=utf8mb4; 9INSERT INTO tbl_language VALUES 10 (1,&amp;#39;Python&amp;#39;,&amp;#39;https://ddkk.</description></item><item><title>二十五、SQLite Autoincrement</title><link>https://www.shellio.cc/docs/database/sqlite/25/</link><pubDate>Sat, 21 Oct 2023 12:22:54 +0800</pubDate><guid>https://www.shellio.cc/docs/database/sqlite/25/</guid><description>SQLite Autoincrement（自动递增） SQLite 的 AUTOINCREMENT 是一个关键字，用于表中的字段值自动递增。我们可以在创建表时在特定的列名称上使用 AUTOINCREMENT 关键字实现该字段值的自动增加。
关键字AUTOINCREMENT 只能用于整型（INTEGER）字段。
语法 因初次访问，为防止爬虫和人机识别，请关注微信公众号，回复:‘验证码‘获取验证码来解锁全文 解锁内容 AUTOINCREMENT 关键字的基本用法如下：
1CREATE TABLE table_name( 2 column1 INTEGER AUTOINCREMENT, 3 column2 datatype, 4 column3 datatype, 5 ..... 6 columnN datatype, 7); 实例 假设要创建的 COMPANY 表如下所示：
1sqlite&amp;gt; CREATE TABLE COMPANY( 2 ID INTEGER PRIMARY KEY AUTOINCREMENT, 3 NAME TEXT NOT NULL, 4 AGE INT NOT NULL, 5 ADDRESS CHAR(50), 6 SALARY REAL 7); 现在，向 COMPANY 表插入以下记录：
1INSERT INTO COMPANY (NAME,AGE,ADDRESS,SALARY) 2VALUES ( &amp;#39;Paul&amp;#39;, 32, &amp;#39;California&amp;#39;, 20000.</description></item><item><title>二十一、MongoDB 跳过 (skip 方法)</title><link>https://www.shellio.cc/docs/database/mongodb/21/</link><pubDate>Sat, 21 Oct 2023 12:22:54 +0800</pubDate><guid>https://www.shellio.cc/docs/database/mongodb/21/</guid><description>skip() 方法接受一个数字参数作为跳过的记录条数
语法 skip() 方法语法格式如下
1&amp;gt; db.COLLECTION_NAME.find().limit(NUMBER).skip(NUMBER) skip() 方法默认参数为 0 表示不跳过任何行
范例 使用以下命令添加范例所需要的数据
1&amp;gt; db.lession.remove({}); 2WriteResult({ &amp;#34;nRemoved&amp;#34; : 0 }) 1&amp;gt; db.lession.insert({ 2 title: &amp;#39;MongoDB 基础教程&amp;#39;, 3 by_user: &amp;#39;penglei&amp;#39;, 4 tags: [&amp;#39;MongoDB&amp;#39;, &amp;#39;database&amp;#39;, &amp;#39;NoSQL&amp;#39;], 5 favorite: 100 6}); 7WriteResult({ &amp;#34;nInserted&amp;#34; : 1 }) 1&amp;gt; db.lession.insert({ 2 title: &amp;#39;NoSQL 基础教程&amp;#39;, 3 by_user: &amp;#39;penglei&amp;#39;, 4 tags: [&amp;#39;MongoDB&amp;#39;, &amp;#39;database&amp;#39;, &amp;#39;NoSQL&amp;#39;], 5 favorite: 10 6}); 7WriteResult({ &amp;#34;nInserted&amp;#34; : 1 }) 1&amp;gt; db.lession.insert({ 2 title: &amp;#39;Neo4j 基础教程&amp;#39;, 3 by_user: &amp;#39;Neo4j&amp;#39;, 4 tags: [&amp;#39;Neo4j&amp;#39;, &amp;#39;database&amp;#39;, &amp;#39;NoSQL&amp;#39;], 5 favorite: 750 6}); 7WriteResult({ &amp;#34;nInserted&amp;#34; : 1 }) 现在我们使用下面的命令显示第二条文档数据</description></item><item><title>二十一、MySQL DELETE FROM 语句删除数据</title><link>https://www.shellio.cc/docs/database/mysql/21/</link><pubDate>Sat, 21 Oct 2023 12:22:54 +0800</pubDate><guid>https://www.shellio.cc/docs/database/mysql/21/</guid><description>可以使用 SQL 的 DELETE FROM 命令来删除 MySQL 数据表中的记录
DELETE FROM 语句语法 DELETE FROM SQL 语句删除数据的通用语法格式如下
1DELETE FROM table_name [WHERE Clause] 如果没有指定 WHERE 子句，MySQL 表中的所有记录将被删除 可以在 WHERE 子句中指定任何条件 可以在单个表中一次性删除记录 注意： 如果没有 WHERE 语句，那会删除所有的数据，而且无法复原，所以请谨慎
当你想删除数据表中指定的记录时 WHERE 子句是非常有用的。
通过命令提示符删除数据 可以在mysql&amp;gt; 命令提示窗口中执行 DELETE FROM SQL 语句删除表中的数据
下面的代码使用 DELETE SQL 语句将 name='Python' 的数据行删除
1MariaDB [souyunku]&amp;gt;` SELECT * FROM tbl_language; 2+----+--------+----------------------------+------------+ 3| id | name | url | founded_at | 4+----+--------+----------------------------+------------+ 5| 1 | Python | https://ddkk.</description></item><item><title>二十一、SQLite Truncate Table</title><link>https://www.shellio.cc/docs/database/sqlite/21/</link><pubDate>Sat, 21 Oct 2023 12:22:54 +0800</pubDate><guid>https://www.shellio.cc/docs/database/sqlite/21/</guid><description>SQLite Truncate Table 在SQLite 中，并没有 TRUNCATE TABLE 命令，但可以使用 SQLite 的 DELETE 命令从已有的表中删除全部的数据，但建议使用 DROP TABLE 命令删除整个表，然后再重新创建一遍。
语法 因初次访问，为防止爬虫和人机识别，请关注微信公众号，回复:‘验证码‘获取验证码来解锁全文 解锁内容 DELETE 命令的基本语法如下：
1sqlite&amp;gt; DELETE FROM table_name; DROP TABLE 的基本语法如下：
1sqlite&amp;gt; DROP TABLE table_name; 如果您使用 DELETE TABLE 命令删除所有记录，建议使用 VACUUM 命令清除未使用的空间。
实例 假设COMPANY 表有如下记录：
1ID NAME AGE ADDRESS SALARY 2---------- ---------- ---------- ---------- ---------- 31 Paul 32 California 20000.0 42 Allen 25 Texas 15000.0 53 Teddy 23 Norway 20000.0 64 Mark 25 Rich-Mond 65000.0 75 David 27 Texas 85000.</description></item><item><title>九、MongoDB 创建数据库</title><link>https://www.shellio.cc/docs/database/mongodb/9/</link><pubDate>Sat, 21 Oct 2023 12:22:54 +0800</pubDate><guid>https://www.shellio.cc/docs/database/mongodb/9/</guid><description>语法 MongoDB 创建数据库的语法格式如下：
1use DATABASE_NAME 如果数据库不存在，则创建数据库，否则切换到指定数据库
范例 以下实例我们创建了数据库 souyunku:
1&amp;gt; use souyunku 2switched to db souyunku 3&amp;gt; db 4souyunku 5&amp;gt; 如果想查看所有数据库，可以使用 show dbs 命令
1&amp;gt; show dbs 2local 0.078GB 3test 0.078GB 4&amp;gt; 咦，没创建成功 ？刚创建的数据库 souyunku 并不在数据库的列表中啊
MongoDB 默认不会显示没有数据的数据库，要显示 souyunku 数据库
需要向souyunku 数据库插入一些数据
1&amp;gt; db.souyunku.insert({&amp;#34;name&amp;#34;:&amp;#34;教程 &amp;#34;,&amp;#34;site&amp;#34;:&amp;#34;https://ddkk.com/&amp;#34;}) 2WriteResult({ &amp;#34;nInserted&amp;#34; : 1 }) 3&amp;gt; show dbs 4local 0.078GB 5souyunku 0.078GB 6test 0.078GB 7&amp;gt; MongoDB 中默认的数据库为 test，如果你没有创建新的数据库，集合将存放在 test 数据库中</description></item><item><title>九、MySQL 创建数据库</title><link>https://www.shellio.cc/docs/database/mysql/9/</link><pubDate>Sat, 21 Oct 2023 12:22:54 +0800</pubDate><guid>https://www.shellio.cc/docs/database/mysql/9/</guid><description>MySQL 创建数据库的方式有两种：
1、 使用mysqladmin创建数据库；
2、 使用CREATEDATABASE语句创建数据库；
如果使用普通用户连接到 MySQL 服务器，可能需要特定的权限来创建或者删除 MySQL 数据库
所以接下来的教程中，我们使用 root 用户登录，因为 root 用户拥有最高权限
使用 mysqladmin 创建数据库 可以使用 mysqladmin 命令来创建数据库
mysqladmin 命令语法格式如下 1mysqladmin [OPTIONS] command [command-option] command ... 通过执行 mysqladmin --help，可以得到 mysqladmin 的版本所支持的一个选项列表
命令(command) 描述 create databasename 创建一个新数据库 drop databasename 删除一个数据库及其所有表 extended-status 给出服务器的一个扩展状态消息 flush-hosts 洗掉所有缓存的主机 flush-logs 洗掉所有日志 flush-tables 洗掉所有表 flush-privileges 再次装载授权表(同 reload ) kill id,id,… 杀死 mysql 线程 password 新口令，将老口令改为新口令 ping 检查 mysqld 是否活着 processlist 显示服务其中活跃线程列表 reload 重载授权表 refresh 洗掉所有表并关闭和打开日志文件 shutdown 关掉服务器 status 给出服务器的简短状态消息 variables 打印出可用变量 version 得到服务器的版本信息 下面的mysqladmin 命令演示了创建数据库 souyunku 的过程</description></item><item><title>九、SQLite Having 子句</title><link>https://www.shellio.cc/docs/database/sqlite/9/</link><pubDate>Sat, 21 Oct 2023 12:22:54 +0800</pubDate><guid>https://www.shellio.cc/docs/database/sqlite/9/</guid><description>SQLite Having 子句 HAVING 子句允许指定条件来过滤将出现在最终结果中的分组结果。
WHERE 子句在所选列上设置条件，而 HAVING 子句则在由 GROUP BY 子句创建的分组上设置条件。
语法 因初次访问，为防止爬虫和人机识别，请关注微信公众号，回复:‘验证码‘获取验证码来解锁全文 解锁内容 下面是HAVING 子句在 SELECT 查询中的位置：
1SELECT 2FROM 3WHERE 4GROUP BY 5HAVING 6ORDER BY 在一个查询中，HAVING 子句必须放在 GROUP BY 子句之后，必须放在 ORDER BY 子句之前。下面是包含 HAVING 子句的 SELECT 语句的语法：
1SELECT column1, column2 2FROM table1, table2 3WHERE [ conditions ] 4GROUP BY column1, column2 5HAVING [ conditions ] 6ORDER BY column1, column2 实例 假设COMPANY 表有以下记录：
1ID NAME AGE ADDRESS SALARY 2---------- ---------- ---------- ---------- ---------- 31 Paul 32 California 20000.</description></item><item><title>六、Mac OSX 平台安装 MongoDB</title><link>https://www.shellio.cc/docs/database/mongodb/6/</link><pubDate>Sat, 21 Oct 2023 12:22:54 +0800</pubDate><guid>https://www.shellio.cc/docs/database/mongodb/6/</guid><description>下载安装 MongoDB 提供了 OSX 平台上 64 位的安装包，可以在官网下载安装包
下载地址 : https://www.mongodb.com/download-center#community
从MongoDB 3.0 版本开始只支持 OS X 10.7 (Lion) 版本及更新版本的系统
接下来我们使用 curl 命令来下载安装
1$ cd /usr/local 进入 /usr/local 2$ sudo curl -O https://fastdl.mongodb.org/osx/mongodb-osx-x86_64-3.4.9.tgz 3$ sudo tar -zxvf mongodb-osx-x86_64-3.4.9.tgz 解压 4$ sudo mv mongodb-osx-x86_64-3.4.9 mongodb 重命名为 mongodb 目录 安装完成后，我们可以把 MongoDB 的二进制命令文件目录（/usr/local/mongodb/bin）添加到 PATH 路径中
使用以下命令编辑 .bashrc
1$ vi ~/.bashrc 然后添加以下信息到文件末尾
1export PATH=/usr/local/mongodb/bin:$PATH 使用 brew 安装 因初次访问，为防止爬虫和人机识别，请关注微信公众号，回复:‘验证码‘获取验证码来解锁全文 解锁内容 通过brew 安装 MongoDB 非常方便快捷的
1$ brew install mongodb 如果要安装支持 TLS/SSL 版本则使用如下命令</description></item><item><title>六、MySQL PHP 语法</title><link>https://www.shellio.cc/docs/database/mysql/6/</link><pubDate>Sat, 21 Oct 2023 12:22:54 +0800</pubDate><guid>https://www.shellio.cc/docs/database/mysql/6/</guid><description>很多语言都提供了操作 MySQL 的函数库，包括 PERL, C, C++, JAVA 和 PHP 等等。
这些语言中，尤以 PHP 与 MySQL 的结合最为广泛。
MySQL 与 PHP、Linux、Apache、Nginx 组成的 LAMP 和 LNMP 最为经典
如果你想了解 MySQL 在 PHP 中的应用，可以访问我们的 PHP MySQL 基础教程
范例 下面的代码演示了 PHP 使用 PDO_MySQL 操作 MySQL
1&amp;lt;?php 2/* 3 * filename: main.php 4 * author: DDKK.COM 弟弟快看，程序员编程资料站(ddkk.com) 5 * 6 * Copyright © 2015-2065 ddkk.com. All rights reserved. 7 */ 8try { 9 $dbh = new PDO(&amp;#39;mysql:host=127.0.0.1;dbname=souyunku&amp;#39;, &amp;#39;root&amp;#39;, &amp;#39;&amp;#39;); 10 print_r($dbh); 11 $dbh = null; 12catch (PDOException $e) 13{ 14 print &amp;#34;Error!</description></item><item><title>六、SQLite Limit 子句</title><link>https://www.shellio.cc/docs/database/sqlite/6/</link><pubDate>Sat, 21 Oct 2023 12:22:54 +0800</pubDate><guid>https://www.shellio.cc/docs/database/sqlite/6/</guid><description>SQLite Limit 子句 SQLite 的 LIMIT 子句用于限制由 SELECT 语句返回的数据数量。
语法 因初次访问，为防止爬虫和人机识别，请关注微信公众号，回复:‘验证码‘获取验证码来解锁全文 解锁内容 带有LIMIT 子句的 SELECT 语句的基本语法如下：
1SELECT column1, column2, columnN 2FROM table_name 3LIMIT [no of rows] 下面是LIMIT 子句与 OFFSET 子句一起使用时的语法：
1SELECT column1, column2, columnN 2FROM table_name 3LIMIT [no of rows] OFFSET [row num] SQLite 引擎将返回从下一行开始直到给定的 OFFSET 为止的所有行，如下面的最后一个实例所示。
实例 假设COMPANY 表有以下记录：
1ID NAME AGE ADDRESS SALARY 2---------- ---------- ---------- ---------- ---------- 31 Paul 32 California 20000.0 42 Allen 25 Texas 15000.0 53 Teddy 23 Norway 20000.</description></item><item><title>七、MongoDB 术语</title><link>https://www.shellio.cc/docs/database/mongodb/7/</link><pubDate>Sat, 21 Oct 2023 12:22:54 +0800</pubDate><guid>https://www.shellio.cc/docs/database/mongodb/7/</guid><description>MongoDB 涉及到的有关术语是：文档、集合、数据库
下表列出了 MongoDB 中的一些术语
SQL 术语 MongoDB 术语 解释 database database 数据库 table collection 数据库表/集合 row document 数据记录行/文档 column field 数据字段/域 index index 索引 table joins 表连接,MongoDB不支持 primary key primary key 主键,MongoDB自动将_id字段设置为主键 图示 通过下面的图例，我们能更直观的了解 MongoDB 中 术语
数据库 一个MongoDB 中可以建立多个数据库
MongoDB 默认的数据库是 “test”，该数据库存储在 data 目录中
MongoDB 每个实例可以容纳多个独立的数据库，每一个都有自己的集合和权限，不同的数据库也放置在不同的文件中
“show dbs” 命令可以显示所有数据的列表
1$ mongo 2MongoDB shell version v3.4.9 3connecting to: mongodb://127.0.0.1:27017 4MongoDB server version: 3.4.9 5&amp;gt; show dbs; 6admin 0.078GB 7test 0.</description></item><item><title>七、MySQL 创建连接</title><link>https://www.shellio.cc/docs/database/mysql/7/</link><pubDate>Sat, 21 Oct 2023 12:22:54 +0800</pubDate><guid>https://www.shellio.cc/docs/database/mysql/7/</guid><description>连接到MySQL 服务器由三种办法，使用 mysql 命名 、使用 Navicat MySQL 客户端和使用各种开发语言连接
使用 mysql 命令连接 mysql 命令一般会随着 MySQL 安装而自带，这是最基本的也是最容易连接到 MySQL 服务器的方式
可以使用下面的命令连接到 MySQL 服务器
1mysql -u [用户名] -p [密码,可以不输入] 例如使用 root 用户登录
1[root@locahost ~]# mysql -u root -p 连接成功后会显示 mysql&amp;gt; 命令提示窗口，然后我们就可以开始使用这个连接运行任何 SQL 语句
命令演示如下
1[root@ddkk.com ~]# mysql -uroot -p 2Enter password: 3Welcome to the MariaDB monitor. Commands end with ; or \g. 4Your MariaDB connection id is 3 5Server version: 5.5.56-MariaDB MariaDB Server 6Copyright (c) 2000, 2017, Oracle, MariaDB Corporation Ab and others.</description></item><item><title>七、SQLite Order By</title><link>https://www.shellio.cc/docs/database/sqlite/7/</link><pubDate>Sat, 21 Oct 2023 12:22:54 +0800</pubDate><guid>https://www.shellio.cc/docs/database/sqlite/7/</guid><description>SQLite Order By SQLite 的 ORDER BY 子句是用来基于一个或多个列按升序或降序顺序排列数据。
语法 因初次访问，为防止爬虫和人机识别，请关注微信公众号，回复:‘验证码‘获取验证码来解锁全文 解锁内容 ORDER BY 子句的基本语法如下：
1SELECT column-list 2FROM table_name 3[WHERE condition] 4[ORDER BY column1, column2, .. columnN] [ASC | DESC]; 您可以在 ORDER BY 子句中使用多个列。确保您使用的排序列在列清单中。
实例 假设COMPANY 表有以下记录：
1ID NAME AGE ADDRESS SALARY 2---------- ---------- ---------- ---------- ---------- 31 Paul 32 California 20000.0 42 Allen 25 Texas 15000.0 53 Teddy 23 Norway 20000.0 64 Mark 25 Rich-Mond 65000.0 75 David 27 Texas 85000.</description></item><item><title>三、MySQL MariaDB 安装</title><link>https://www.shellio.cc/docs/database/mysql/3/</link><pubDate>Sat, 21 Oct 2023 12:22:54 +0800</pubDate><guid>https://www.shellio.cc/docs/database/mysql/3/</guid><description>MySQL / MariaDB 是跨平台的，所有平台的 MySQL 下载地址为： MySQL 官方下载
挑选适合你电脑或服务器的的 MySQL Community Server 版本及对应的平台
Linux / UNIX 上安装 MySQL Linux 平台上推荐使用 RPM 包来安装 MySQL, MySQL AB 提供了下列 RPM 包的下载地址
MySQL
MySQL服务器
我们需要该选项，除非只想连接运行在另一台机器上的 MySQL 服务器
MySQL-client
MySQL 客户端程序，用于连接并操作 MySQL 服务器
MySQL-devel
库和包含文件，如果想要编译其它 MySQL 客户端，例如 Perl 模块，则需要安装该 RPM 包
MySQL-shared
包含某些语言和应用程序需要动态装载的共享库 (libmysqlclient.so*)
MySQL-bench
MySQL数据库服务器的基准和性能测试工具
Centos 6.X 系统下使用 yum 命令安装 MySql 因初次访问，为防止爬虫和人机识别，请关注微信公众号，回复:‘验证码‘获取验证码来解锁全文 解锁内容 1. 检查系统是否自带安装 MySQL: 1[root@ddkk.com ~]# rpm -qa | grep mysql 如果系统有安装，那可以选择进行卸载</description></item><item><title>三、SQLite Delete 语句</title><link>https://www.shellio.cc/docs/database/sqlite/3/</link><pubDate>Sat, 21 Oct 2023 12:22:54 +0800</pubDate><guid>https://www.shellio.cc/docs/database/sqlite/3/</guid><description>SQLite Delete 语句 SQLite 的 DELETE 查询用于删除表中已有的记录。可以使用带有 WHERE 子句的 DELETE 查询来删除选定行，否则所有的记录都会被删除。
语法 因初次访问，为防止爬虫和人机识别，请关注微信公众号，回复:‘验证码‘获取验证码来解锁全文 解锁内容 带有WHERE 子句的 DELETE 查询的基本语法如下：
1DELETE FROM table_name 2WHERE [condition]; 您可以使用 AND 或 OR 运算符来结合 N 个数量的条件。
实例 假设COMPANY 表有以下记录：
1ID NAME AGE ADDRESS SALARY 2---------- ---------- ---------- ---------- ---------- 31 Paul 32 California 20000.0 42 Allen 25 Texas 15000.0 53 Teddy 23 Norway 20000.0 64 Mark 25 Rich-Mond 65000.0 75 David 27 Texas 85000.0 86 Kim 22 South-Hall 45000.</description></item><item><title>三、什么是 MongoDB ?</title><link>https://www.shellio.cc/docs/database/mongodb/3/</link><pubDate>Sat, 21 Oct 2023 12:22:54 +0800</pubDate><guid>https://www.shellio.cc/docs/database/mongodb/3/</guid><description>在高负载的情况下，添加更多的节点，可以保证服务器性能。
MongoDB 旨在为 WEB 应用提供可扩展的高性能数据存储解决方案。
MongoDB 将数据存储为一个文档，数据结构由键值(key=&amp;gt;value)对组成。MongoDB 文档类似于 JSON 对象。字段值可以包含其他文档，数组及文档数组
主要特点 MongoDB的提供了一个面向文档存储，操作起来比较简单和容易。 你可以在MongoDB记录中设置任何属性的索引 (如：FirstName=”Sameer”,Address=”8 Gandhi Road”)来实现更快的排序。 你可以通过本地或者网络创建数据镜像，这使得MongoDB有更强的扩展性。 如果负载的增加（需要更多的存储空间和更强的处理能力） ，它可以分布在计算机网络中的其他节点上这就是所谓的分片。 Mongo支持丰富的查询表达式。查询指令使用JSON形式的标记，可轻易查询文档中内嵌的对象及数组。 MongoDb 使用update()命令可以实现替换完成的文档（数据）或者一些指定的数据字段 。 Mongodb中的Map/reduce主要是用来对数据进行批量处理和聚合操作。 Map和Reduce。Map函数调用emit(key,value)遍历集合中所有的记录，将key与value传给Reduce函数进行处理。 Map函数和Reduce函数是使用Javascript编写的，并可以通过db.runCommand或mapreduce命令来执行MapReduce操作。 GridFS是MongoDB中的一个内置功能，可以用于存放大量小文件。 MongoDB允许在服务端执行脚本，可以用Javascript编写某个函数，直接在服务端执行，也可以把函数的定义存储在服务端，下次直接调用即可。 MongoDB支持各种编程语言:RUBY，PYTHON，JAVA，C++，PHP，C#等多种语言。 MongoDB安装简单。 MongoDB 下载 因初次访问，为防止爬虫和人机识别，请关注微信公众号，回复:‘验证码‘获取验证码来解锁全文 解锁内容 你可以在mongodb官网下载该安装包，下载地址为：
https://www.mongodb.com/download-center#community
MonggoDB 支持以下平台 OS X 32-bit OS X 64-bit Linux 32-bit Linux 64-bit Windows 32-bit Windows 64-bit Solaris i86pc Solaris 64 语言支持 MongoDB 官方支持的驱动
C [C++][C 1] [C# / .NET][C_ _ .NET] Erlang Haskell Java JavaScript Lisp node.</description></item><item><title>三十、MongoDB 性能跟踪 ( mongotop )</title><link>https://www.shellio.cc/docs/database/mongodb/30/</link><pubDate>Sat, 21 Oct 2023 12:22:54 +0800</pubDate><guid>https://www.shellio.cc/docs/database/mongodb/30/</guid><description>mongotop MongoDB 下的一个内置工具
mongotop 提供了一个方法，用来跟踪一个 MongoDB的实例，查看哪些大量的时间花费在读取和写入数据
mongotop 提供每个集合的水平的统计数据
默认情况下，mongotop 每秒输出一次数据
语法 MongoDB mongotop 脚本命令语法如下
1$ mongotop &amp;lt;sleeptime&amp;gt; --locks 参数解析 指定多久输出一次数据
默认为 1 秒 --locks 输出锁使用的情况
范例 默认参数范例 1$ mongotop 输出结果如下
1$ mongotop 22017-10-24T07:39:50.970+0800 connected to: 127.0.0.1 3 ns total read write 2017-10-24T07:39:51+08:00 4 admin.system.indexes 0ms 0ms 0ms 5 admin.system.namespaces 0ms 0ms 0ms 6 admin.system.roles 0ms 0ms 0ms 7 admin.system.users 0ms 0ms 0ms 8 admin.system.version 0ms 0ms 0ms 9 gridfs.fs.chunks 0ms 0ms 0ms 10 gridfs.</description></item><item><title>三十、MySQL 数据库事务</title><link>https://www.shellio.cc/docs/database/mysql/30/</link><pubDate>Sat, 21 Oct 2023 12:22:54 +0800</pubDate><guid>https://www.shellio.cc/docs/database/mysql/30/</guid><description>数据库事务 (Database Transaction) 是指作为单个逻辑工作单元执行的一系列操作，要么完全地执行，要么完全地不执行
事务处理可以确保除非事务性单元内的所有操作都成功完成，否则不会永久更新面向数据的资源
举个例子，A 向 B 转账 100 元，其实整个转账过程就是一个事务，要么转账成功了，A 的账户扣了 100 元，B 的账户增加了 100 元，要么转账失败，A 还是那么多钱，B 还是没钱，如果出现 A 扣了 100 元，B 的账户却没增加 100 元，那是要出问题的，是不？
事务，就是用来做这件事的，用来保证要么转账成功，要么转账失败
MySQL 事务 MySQL 支持事务，但是，但是只有使用 Innodb 数据库引擎的数据库或表才支持事务
事务处理可以用来维护数据库的完整性，保证成批的 SQL 语句要么全部执行，要么全部不执行
一般来说，事务是必须满足4个条件 ( ACID )
Atomicity(原子性)、Consistency(稳定性)、Isolation(隔离性)、Durability(可靠性)
1、 原子性；
1一组事务，要么成功；要么失败回滚当作什么事都没发生 2、 稳定性；
1有非法数据 (外键约束之类)，事务撤回 3、 隔离性；
1事务独立运行。一个事务处理后的结果，影响了其它事务，那么其它事务会撤回 2事务的100%隔离，需要牺牲速度 4、 可靠性；
1软、硬件崩溃后，InnoDB 数据表驱动会利用日志文件重构修改 2可靠性和高速度不可兼得 innodb_flush_log_at_trx_commit 选项决定什么时候吧事务保存到日志里 MySQL 命令行的默认设置下，事务都是自动提交的，即执行 SQL 语句后就会马上执行 COMMIT 操作
因此要显式地开启一个事务务须使用命令 BEGIN 或 START TRANSACTION，或者执行命令 SET AUTOCOMMIT=0，用来禁止使用当前会话的自动提交</description></item><item><title>三十、SQLite – C-C++</title><link>https://www.shellio.cc/docs/database/sqlite/30/</link><pubDate>Sat, 21 Oct 2023 12:22:54 +0800</pubDate><guid>https://www.shellio.cc/docs/database/sqlite/30/</guid><description>SQLite – C/C++ 安装 因初次访问，为防止爬虫和人机识别，请关注微信公众号，回复:‘验证码‘获取验证码来解锁全文 解锁内容 在C/C++ 程序中使用 SQLite 之前，我们需要确保机器上已经有 SQLite 库。可以查看 SQLite 安装章节了解安装过程。
C/C++ 接口 API 以下是重要的 C&amp;amp;C++ / SQLite 接口程序，可以满足您在 C/C++ 程序中使用 SQLite 数据库的需求。如果您需要了解更多细节，请查看 SQLite 官方文档。
序号 API &amp;amp; 描述 1 sqlite3_open(const char *filename, sqlite3 **ppDb)
该例程打开一个指向 SQLite 数据库文件的连接，返回一个用于其他 SQLite 程序的数据库连接对象。
如果 filename 参数是 NULL 或 ‘:memory:’，那么 sqlite3_open() 将会在 RAM 中创建一个内存数据库，这只会在 session 的有效时间内持续。
如果文件名 filename 不为 NULL，那么 sqlite3_open() 将使用这个参数值尝试打开数据库文件。如果该名称的文件不存在，sqlite3_open() 将创建一个新的命名为该名称的数据库文件并打开。
2 sqlite3_exec(sqlite3*, const char *sql, sqlite_callback, void *data, char **errmsg) 该例程提供了一个执行 SQL 命令的快捷方式，SQL 命令由 sql 参数提供，可以由多个 SQL 命令组成。</description></item><item><title>三十八、MongoDB 覆盖索引查询</title><link>https://www.shellio.cc/docs/database/mongodb/38/</link><pubDate>Sat, 21 Oct 2023 12:22:54 +0800</pubDate><guid>https://www.shellio.cc/docs/database/mongodb/38/</guid><description>因为所有出现在查询中的字段是索引的一部分， MongoDB 无需在整个数据文档中检索匹配查询条件和返回使用相同索引的查询结果
因为索引存在于 RAM 中，从索引中获取数据比通过扫描文档读取数据要快得多
使用覆盖索引查询 为了测试盖索引查询，假设我们有以下 users 集合
1{ 2 &amp;#34;_id&amp;#34; : ObjectId(&amp;#34;59ee8a8ba0f7c7d445f864af&amp;#34;), 3 &amp;#34;tel&amp;#34; : &amp;#34;13888886666&amp;#34;, 4 &amp;#34;birthday&amp;#34; : &amp;#34;11-11&amp;#34;, 5 &amp;#34;sex&amp;#34; : &amp;#34;M&amp;#34;, 6 &amp;#34;name&amp;#34; : &amp;#34;Ro penglei&amp;#34;, 7 &amp;#34;user_name&amp;#34; : &amp;#34;penglei&amp;#34; 我们在users 集合中创建联合索引，字段为 sex 和 user_name
1&amp;gt; db.users.ensureIndex({sex:1,user_name:1}) 2 &amp;#34;createdCollectionAutomatically&amp;#34; : false, 3 &amp;#34;numIndexesBefore&amp;#34; : 1, 4 &amp;#34;numIndexesAfter&amp;#34; : 2, 5 &amp;#34;ok&amp;#34; : 1 现在，该索引会覆盖以下查询
1&amp;gt; db.users.find({sex:&amp;#34;M&amp;#34;},{user_name:1,_id:0}) 2{ &amp;#34;user_name&amp;#34; : &amp;#34;penglei&amp;#34; } 也就是说，对于上述查询，MongoDB 不会去数据库文件中查找
相反，它会从索引中提取数据，这是非常快速的数据查询</description></item><item><title>三十八、MySQL 处理重复数据</title><link>https://www.shellio.cc/docs/database/mysql/38/</link><pubDate>Sat, 21 Oct 2023 12:22:54 +0800</pubDate><guid>https://www.shellio.cc/docs/database/mysql/38/</guid><description>MySQL 数据表中可能存在重复的记录，它们的差别可能只是自增 id 不一样
有时候我们允许重复数据的存在，但有时候也需要删除这些重复的数据
防止表中出现重复数据 可以在MySQL 数据表中设置指定的字段为 PRIMARY KEY（主键） 或者 UNIQUE（唯一） 索引来保证数据的唯一性
比如我们创建一个没有主键也没有唯一索引的表 tbl_language，那么该表就会允许出现多条重复记录
1CREATE TABLE IF NOT EXISTS tbl_language( 2 id INT UNSIGNED, 3 name VARCHAR(64) NOT NULL, 4 url VARCHAR(128) NOT NULL, 5 founded_at DATE 6)ENGINE=InnoDB DEFAULT CHARSET=utf8mb4; 然后我们就可以重复的插入 N 多条一样的数据
1MariaDB [souyunku]&amp;gt; DROP TABLE tbl_language; 2Query OK, 0 rows affected (0.01 sec) 3MariaDB [souyunku]&amp;gt;` CREATE TABLE IF NOT EXISTS tbl_language( 4 -&amp;gt;` id INT UNSIGNED, 5 -&amp;gt;` name VARCHAR(64) NOT NULL, 6 -&amp;gt;` url VARCHAR(128) NOT NULL, 7 -&amp;gt;` founded_at DATE 8 -&amp;gt; )ENGINE=InnoDB DEFAULT CHARSET=utf8mb4; 9Query OK, 0 rows affected (0.</description></item><item><title>三十二、MongoDB Java</title><link>https://www.shellio.cc/docs/database/mongodb/32/</link><pubDate>Sat, 21 Oct 2023 12:22:54 +0800</pubDate><guid>https://www.shellio.cc/docs/database/mongodb/32/</guid><description>本章教程使用 mongodb-driver 3.5.0 版本，其它版本也类似
MongoDB Java Driver 环境配置 JAVA 程序中如果访问 MongoDB，需要安装了 JAVA 环境及 MongoDB Java 驱动
如果你还未安装 JAVA 环境，可以移步 JAVA 基础教程
现在，我们来安装配置 JAVA MongoDB 驱动
1、 首先下载mongodb-driver-3.5.0.jarhttp://mongodb.github.io/mongo-java-driver/；
1![img\_1.png][img_1.png] 2、 然后将mongo-java-driver-3.5.0.jar（或其它版本）放到CLASSPATH中；
你也可以从地址下载 mongodb-driver jar：http://central.maven.org/maven2/org/mongodb/mongo-java-driver/
Gradle 构建 JAVA MongoDB 运行环境 因为我实在不想把 jar 添加到 CLASSPATH 中，又不想用 MAVEN 这种 XML 配置方式，所以就使用了 Gradle 构建工具
配置步骤如下
1$ mkdir hello 2$ cd hello 3$ mkdir -p src/main/java/com.ddkk 4$ touch src/main/java/com.ddkk/HelloWorld.java 5$ touch build.gradle 然后把以下内容复制到 build.gradle 文件中
1apply plugin: &amp;#39;java&amp;#39; 2apply plugin: &amp;#39;application&amp;#39; 3mainClassName = &amp;#39;com.</description></item><item><title>三十二、MySQL 索引</title><link>https://www.shellio.cc/docs/database/mysql/32/</link><pubDate>Sat, 21 Oct 2023 12:22:54 +0800</pubDate><guid>https://www.shellio.cc/docs/database/mysql/32/</guid><description>MySQL 索引可以大大提高 MySQL 的检索速度
打个比方，如果合理的设计且使用索引的 MySQL 是一辆高速公路的话，那么没有设计和使用索引的 MySQL 就是一个人力山村泥泞路
索引分单列索引和组合索引
1、 单列索引，即一个索引只包含单个列，一个表可以有多个单列索引，但这不是组合索引；
2、 组合索引，即一个索引包含多个列；
创建索引时，需要确保该索引是应用在 SQL 查询语句的条件(一般作为 WHERE 子句的条件)
实际上，索引也是一张表，该表保存了主键与索引字段，并指向实体表的记录
过多的使用索引将会造成滥用
因此索引也会有它的缺点：虽然索引大大提高了查询速度，同时却会降低更新表的速度，如对表进行 INSERT、UPDATE和 DELETE 因为更新表时，MySQL 不仅要保存数据，还要保存一下索引文件
建立索引会占用磁盘空间的索引文件
显示索引信息 SHOW INDEX FROM tablename; 命令可以列出某个表中的相关的索引信息
比如下面的 SQL 命名用于列出 tbl_language 表的索引信息
1SHOW INDEX FROM tbl_language; 运行结果如下
1MariaDB [souyunku]&amp;gt; SHOW INDEX FROM tbl_language; 2+--------------+------------+----------+--------------+-------------+-----------+-------------+----------+--------+------+------------+---------+---------------+ 3| Table | Non_unique | Key_name | Seq_in_index | Column_name | Collation | Cardinality | Sub_part | Packed | Null | Index_type | Comment | Index_comment | 4+--------------+------------+----------+--------------+-------------+-----------+-------------+----------+--------+------+------------+---------+---------------+ 5| tbl_language | 0 | PRIMARY | 1 | id | A | 0 | NULL | NULL | | BTREE | | | 6+--------------+------------+----------+--------------+-------------+-----------+-------------+----------+--------+------+------------+---------+---------------+ 71 row in set (0.</description></item><item><title>三十二、SQLite 安装</title><link>https://www.shellio.cc/docs/database/sqlite/32/</link><pubDate>Sat, 21 Oct 2023 12:22:54 +0800</pubDate><guid>https://www.shellio.cc/docs/database/sqlite/32/</guid><description>SQLite 安装 SQLite 的一个重要的特性是零配置的，这意味着不需要复杂的安装或管理。本章将讲解 Windows、Linux 和 Mac OS X 上的安装设置。
在 Windows 上安装 SQLite 因初次访问，为防止爬虫和人机识别，请关注微信公众号，回复:‘验证码‘获取验证码来解锁全文 解锁内容 请访问 SQLite 下载页面，从 Windows 区下载预编译的二进制文件。 您需要下载 sqlite-shell-win32-*.zip 和 sqlite-dll-win32-*.zip 压缩文件。 创建文件夹 C:\&amp;gt;sqlite，并在此文件夹下解压上面两个压缩文件，将得到 sqlite3.def、sqlite3.dll 和 sqlite3.exe 文件。 添加 C:\&amp;gt;sqlite 到 PATH 环境变量，最后在命令提示符下，使用 sqlite3 命令，将显示如下结果。 1C:\&amp;gt;sqlite3 2SQLite version 3.7.15.2 2013-01-09 11:53:05 3Enter &amp;#34;.help&amp;#34; for instructions 4Enter SQL statements terminated with a &amp;#34;;&amp;#34; 5sqlite&amp;gt; 在 Linux 上安装 SQLite 目前，几乎所有版本的 Linux 操作系统都附带 SQLite。所以，只要使用下面的命令来检查您的机器上是否已经安装了 SQLite。
1$sqlite3 2SQLite version 3.7.15.2 2013-01-09 11:53:05 3Enter &amp;#34;.</description></item><item><title>三十九、MongoDB 查询分析</title><link>https://www.shellio.cc/docs/database/mongodb/39/</link><pubDate>Sat, 21 Oct 2023 12:22:54 +0800</pubDate><guid>https://www.shellio.cc/docs/database/mongodb/39/</guid><description>MongoDB 查询分析常用方法有：explain() 和 hint()
使用 explain() 分析性能 MongoDB explain() 方法提供了查询信息，使用索引及查询统计等
MongoDB explain() 有利于我们对索引的优化
explain() 语法格式 MongoDB explain() 语法格式如下
1db.collection.explain().&amp;lt;method(...)&amp;gt; 可以是以下几个方法
aggregate() count() distinct() find() group() remove() update() 范例数据 使用以下命令向数据库 souyunku 中的 users 集合添加数据
1&amp;gt; use souyunku; 2&amp;gt; db.users.remove({}) 3&amp;gt; db.users.insert({&amp;#34;tel&amp;#34; : &amp;#34;13888886666&amp;#34;, &amp;#34;birthday&amp;#34; : &amp;#34;11-11&amp;#34;, &amp;#34;sex&amp;#34; : &amp;#34;M&amp;#34;, &amp;#34;name&amp;#34; : &amp;#34;Ro penglei&amp;#34;, &amp;#34;user_name&amp;#34; : &amp;#34;penglei&amp;#34; }) 现在我们在 users 集合中创建 sex 和 user_name 的索引
1&amp;gt; db.users.ensureIndex({sex:1,user_name:1}) 2 &amp;#34;createdCollectionAutomatically&amp;#34; : false, 3 &amp;#34;numIndexesBefore&amp;#34; : 1, 4 &amp;#34;numIndexesAfter&amp;#34; : 2, 5 &amp;#34;ok&amp;#34; : 1 然后在查询语句中使用 explain() 方法</description></item><item><title>三十九、MySQL 安全及防止 SQL 注入攻击</title><link>https://www.shellio.cc/docs/database/mysql/39/</link><pubDate>Sat, 21 Oct 2023 12:22:54 +0800</pubDate><guid>https://www.shellio.cc/docs/database/mysql/39/</guid><description>如果通过网页获取用户输入的数据并将其插入 MySQL 数据库，那么就有可能发生 SQL注入攻击的安全问题
作为研发，有一条铁律需要记住，那就是
永远不要相信用户的数据，哪怕他一再承诺是安全的
SQL 注入式攻击 SQL 注入，就是通过把 SQL 命令插入到 Web 表单递交或输入域名或页面请求的查询字符串，最终达到欺骗服务器执行恶意的 SQL 命令
比如有一个表单，用户可以输入 name
1&amp;lt;?php 2$name = $_GET[&amp;#39;name&amp;#39;]; 3$dbh-&amp;gt;query(&amp;#34;SELECT * FROM users WHERE name=&amp;#39;{$name}&amp;#39;&amp;#34;); 那么当用户输入的 name 为 Python'; DELETE FROM user;' 时会变成什么？
1SELECT * FROM users WHERE name=&amp;#39;Python&amp;#39;; DELETE FROM user;&amp;#39;&amp;#39;; 这条语句运行一下，会发现什么？ 我们的 user 表被清空啦，很可怕，对不对
所以我们需要对用户的输入进行过滤处理
例如下面的 PHP 语句，要求用户输入的名称 name 必须是字母、数字及下划线的组合，且用户名长度为 8 到 20 个字符之间
1&amp;lt;?php 2if (preg_match(&amp;#34;/^\w{8,20}$/&amp;#34;, $_GET[&amp;#39;name&amp;#39;], $matches)) 3 $dbh-&amp;gt;query(&amp;#34;SELECT * FROM tbl_language WHERE name=$matches[0]&amp;#34;); 4else 5 echo &amp;#34;username 输入异常&amp;#34;; 防止 SQL 注入要诀 因初次访问，为防止爬虫和人机识别，请关注微信公众号，回复:‘验证码‘获取验证码来解锁全文 解锁内容 防止SQL 注入，我们需要注意以下几个要点</description></item><item><title>三十六、MongoDB 关系</title><link>https://www.shellio.cc/docs/database/mongodb/36/</link><pubDate>Sat, 21 Oct 2023 12:22:54 +0800</pubDate><guid>https://www.shellio.cc/docs/database/mongodb/36/</guid><description>MongoDB 文档间可以通过嵌入和引用来建立联系
MongoDB 中的关系可以是 1、 1:1(1对1)；
2、 1:N(1对多)；
3、 N:1(多对1)；
4、 N:N(多对多)；
我们使用购物时 用户 ( users ) 和 收货地址 ( address ) 之间的关系来理解
1一个用户可以有多个收货地址，所以是一对多的关系 下面是users 文档的结构
1{ 2 &amp;#34;_id&amp;#34; : ObjectId(&amp;#34;59ee8457a0f7c7d445f864aa&amp;#34;), 3 &amp;#34;name&amp;#34; : &amp;#34;penglei&amp;#34;, 4 &amp;#34;tel&amp;#34; : &amp;#34;13866668888&amp;#34;, 5 &amp;#34;birthday&amp;#34; : &amp;#34;11-11&amp;#34; 下面是address 文档的结构
1{ 2 &amp;#34;_id&amp;#34; : ObjectId(&amp;#34;59ee861ba0f7c7d445f864ac&amp;#34;), 3 &amp;#34;pincode&amp;#34; : 100007, 4 &amp;#34;user&amp;#34; : &amp;#34;penglei&amp;#34;, 5 &amp;#34;city&amp;#34; : &amp;#34;Pek&amp;#34;, 6 &amp;#34;state&amp;#34; : &amp;#34;China&amp;#34;, 7 &amp;#34;building&amp;#34; : &amp;#34;东城区东四君临天下大酒店 220220&amp;#34; 8 &amp;#34;_id&amp;#34; : ObjectId(&amp;#34;59ee862aa0f7c7d445f864ad&amp;#34;), 9 &amp;#34;pincode&amp;#34; : 100007, 10 &amp;#34;city&amp;#34; : &amp;#34;Pek&amp;#34;, 11 &amp;#34;user&amp;#34; : &amp;#34;penglei&amp;#34;, 12 &amp;#34;state&amp;#34; : &amp;#34;China&amp;#34;, 13 &amp;#34;building&amp;#34; : &amp;#34;东城区雍和家园 1 号楼 4 单元 2303&amp;#34; 嵌入式关系 使用嵌入式方法，我们可以把用户地址嵌入到用户的文档中：</description></item><item><title>三十六、MySQL 获取服务器元数据</title><link>https://www.shellio.cc/docs/database/mysql/36/</link><pubDate>Sat, 21 Oct 2023 12:22:54 +0800</pubDate><guid>https://www.shellio.cc/docs/database/mysql/36/</guid><description>如果想要获取服务器的元数据，可以使用下表的语句
命令 说明 SELECT VERSION() 返回服务器版本信息 SELECT DATABASE() 返回当前数据库名 (或者返回空) SELECT USER() 返回当前用户名 SHOW STATUS 返回服务器状态 SHOW VARIABLES 返回服务器配置变量 SELECT VERSION() 获取服务器版本信息 1MariaDB [souyunku]&amp;gt; SELECT VERSION(); 2+-----------------+ 3| VERSION() | 4+-----------------+ 5| 10.2.13-MariaDB | 6+-----------------+ 71 row in set (0.01 sec) SELECT DATABASE() 获取当前数据库名 因初次访问，为防止爬虫和人机识别，请关注微信公众号，回复:‘验证码‘获取验证码来解锁全文 解锁内容 1MariaDB [souyunku]&amp;gt; SELECT DATABASE(); 2+------------+ 3| DATABASE() | 4+------------+ 5| souyunku | 6+------------+ 71 row in set (0.00 sec) 如果当前没有选择任何数据库，则返回 NULL
1MariaDB [(none)]&amp;gt; SELECT DATABASE(); 2+------------+ 3| DATABASE() | 4+------------+ 5| NULL | 6+------------+ 71 row in set (0.</description></item><item><title>三十七、MongoDB 数据库引用</title><link>https://www.shellio.cc/docs/database/mongodb/37/</link><pubDate>Sat, 21 Oct 2023 12:22:54 +0800</pubDate><guid>https://www.shellio.cc/docs/database/mongodb/37/</guid><description>MongoDB 引用有两种 1、 手动引用(ManualReferences)；
2、 DBRefs；
DBRefs vs 手动引用 假如有这样一个场景，在不同的集合中 ( address_home, address_office, address_mailing, 等) 存储不同的地址 ( 住址，办公室地址，邮件地址等 )
这样，我们在调用不同地址时，也需要指定集合，一个文档从多个集合引用文档，我们应该使用 DBRefs
DBRefs 因初次访问，为防止爬虫和人机识别，请关注微信公众号，回复:‘验证码‘获取验证码来解锁全文 解锁内容 MongoDB DBRef 格式
1{ $ref : , $id : , $db : } 三个字段表示的意义为：
$ref ： 集合名称 $id ： 引用的id $db : 数据库名称，可选参数 下面的范例中用户数据文档使用了 DBRef, 字段 address
1{ 2 &amp;#34;_id&amp;#34; : ObjectId(&amp;#34;59ee8457a0f7c7d445f864aa&amp;#34;), 3 &amp;#34;name&amp;#34; : &amp;#34;penglei&amp;#34;, 4 &amp;#34;tel&amp;#34; : &amp;#34;13866668888&amp;#34;, 5 &amp;#34;birthday&amp;#34; : &amp;#34;11-11&amp;#34; 6 &amp;#34;address&amp;#34;: { 7 &amp;#34;$ref&amp;#34;: &amp;#34;address_home&amp;#34;, 8 &amp;#34;$id&amp;#34;: ObjectId(&amp;#34;59ee861ba0f7c7d445f864ac&amp;#34;), 9 &amp;#34;$db&amp;#34;: &amp;#34;souyunku&amp;#34; 10 } address DBRef 字段指定了引用的地址文档是在 address_home 集合下的 souyunku 数据库，id 为 59ee861ba0f7c7d445f864ac</description></item><item><title>三十七、MySQL 自增序列 AUTO_INCREMENT</title><link>https://www.shellio.cc/docs/database/mysql/37/</link><pubDate>Sat, 21 Oct 2023 12:22:54 +0800</pubDate><guid>https://www.shellio.cc/docs/database/mysql/37/</guid><description>MySQL 自增序列是一组整数：1, 2, 3, …
一张数据表只能有一个自增主键
如果你想实现其它字段也实现自动增加，可以使用 MySQL 序列来实现
AUTO_INCREMENT MySQL 定义序列最简单的方法就是使用 AUTO_INCREMENT 来定义列
比如我们前面创建 tbl_language 表的语句中就把 id 设定为一个自增主键
1CREATE TABLE IF NOT EXISTS tbl_language( 2 id INT UNSIGNED AUTO_INCREMENT, 3 name VARCHAR(64) NOT NULL, 4 url VARCHAR(128) NOT NULL, 5 founded_at DATE, 6 PRIMARY KEY ( id ) 7)ENGINE=InnoDB DEFAULT CHARSET=utf8mb4; 那么在插入数据时无需指定字段 id 的值，每插一条数据，它就会自增 1
1MariaDB [souyunku]&amp;gt; TRUNCATE tbl_language; 2Query OK, 0 rows affected (0.02 sec) 3MariaDB [souyunku]&amp;gt;` INSERT INTO tbl_language (name,url,founded_at) VALUES (&amp;#39;Python&amp;#39;,&amp;#39;https://ddkk.</description></item><item><title>三十三、CREATE TEMPORARY TABLE 创建临时表</title><link>https://www.shellio.cc/docs/database/mysql/33/</link><pubDate>Sat, 21 Oct 2023 12:22:54 +0800</pubDate><guid>https://www.shellio.cc/docs/database/mysql/33/</guid><description>MySQL 临时表用于一些临时数据时是非常有用的
临时表只在当前连接可见，当关闭连接时，MySQL 会自动删除表并释放所有空间
因为MySQL 临时表只在当前连接可见，如果使用 PHP 脚本来创建 MySQL 临时表，那每当 PHP 脚本执行完成后，该临时表也会自动销毁
如果连接到 MySQL 使用持久性连接，那么只有在关闭客户端程序时才会销毁临时表，当然也可以手动销毁
创建临时表 命令CREATE TEMPORARY TABLE tablename 命令用来创建临时表
创建临时表的语法和 CREATE TABLE tablename 是一样的，只是多了一个 TEMPORARY 关键字
例如下面的语句用于创建一个临时表 tbl_language_temp
1CREATE TEMPORARY TABLE IF NOT EXISTS tbl_language_tmp( 2 id INT UNSIGNED AUTO_INCREMENT, 3 name VARCHAR(64) NOT NULL, 4 url VARCHAR(128) NOT NULL, 5 founded_at DATE, 6 PRIMARY KEY ( id ) 7)ENGINE=InnoDB DEFAULT CHARSET=utf8mb4; 为了演示如何创建临时表和临时表的特性，我们需要打开两个终端，连接登录到 MySQL 服务，然后切换到 souyunku 数据库，我们假设两个终端的名字为 a 和 b</description></item><item><title>三十三、MongoDB PHP 扩展</title><link>https://www.shellio.cc/docs/database/mongodb/33/</link><pubDate>Sat, 21 Oct 2023 12:22:54 +0800</pubDate><guid>https://www.shellio.cc/docs/database/mongodb/33/</guid><description>mongo 扩展不是 PHP 官方内置的扩展，需要开发者自己手动安装和配置
本章我们将学习如何在 Linux、Window、Mac 平台上安装 mongo 扩展
Linux 上安装 PHP MongoDB 扩展 通过 pecl 来安装 在Linux 系统上可以通过执行以下命令来来安装 MongoDB 的 PHP 扩展驱动
1$ pecl install mongodb 编译源码安装 如果想通过源码来编译扩展驱动，必须手动编译源码包，这样做的好处是可以使用最新的版本
我们可以在 Github 上下载 MongoDB PHP 驱动包
PHPMongoDB Github 地址为：https://github.com/mongodb/mongo-php-driver
下载好源码包后，执行以下命令来安装
1$ tar zxvf mongodb-mongodb-php-driver-&amp;lt;commit_id&amp;gt;.tar.gz 2$ cd mongodb-mongodb-php-driver-&amp;lt;commit_id&amp;gt; 3$ phpize 4$ ./configure 5$ sudo make install 如果你的 PHP 也是自己从源码编译安装的，则安装方法如下：
假设PHP 编译安装在 /usr/local/php 目录中
1$ tar zxvf mongodb-mongodb-php-driver-&amp;lt;commit_id&amp;gt;.tar.gz 2$ cd mongodb-mongodb-php-driver-&amp;lt;commit_id&amp;gt; 3$ /usr/local/php/bin/phpize 4$ .</description></item><item><title>三十三、SQLite – PHP</title><link>https://www.shellio.cc/docs/database/sqlite/33/</link><pubDate>Sat, 21 Oct 2023 12:22:54 +0800</pubDate><guid>https://www.shellio.cc/docs/database/sqlite/33/</guid><description>SQLite – PHP 安装 因初次访问，为防止爬虫和人机识别，请关注微信公众号，回复:‘验证码‘获取验证码来解锁全文 解锁内容 自PHP 5.3.0 起默认启用 SQLite3 扩展。可以在编译时使用 –without-sqlite3 禁用 SQLite3 扩展。
Windows 用户必须启用 php_sqlite3.dll 才能使用该扩展。自 PHP 5.3.0 起，这个 DLL 被包含在 PHP 的 Windows 分发版中。
如需了解详细的安装指导，建议查看我们的 PHP 教程和它的官方网站。
PHP 接口 API 以下是重要的 PHP 程序，可以满足您在 PHP 程序中使用 SQLite 数据库的需求。如果您需要了解更多细节，请查看 PHP 官方文档。
序号 API &amp;amp; 描述 1 public void SQLite3::open ( filename, flags, encryption_key )
打开一个 SQLite 3 数据库。如果构建包括加密，那么它将尝试使用的密钥。
如果文件名 filename 赋值为 ‘:memory:’，那么 SQLite3::open() 将会在 RAM 中创建一个内存数据库，这只会在 session 的有效时间内持续。</description></item><item><title>三十四、MongoDB PHP</title><link>https://www.shellio.cc/docs/database/mongodb/34/</link><pubDate>Sat, 21 Oct 2023 12:22:54 +0800</pubDate><guid>https://www.shellio.cc/docs/database/mongodb/34/</guid><description>MongoDB PHP 在各平台上的安装及驱动包下载请查看: PHP 安装 MongoDB 扩展驱动
如果你使用的是 PHP7，请移步： PHP7 MongoDB 安装与使用
PHP 连接 MongoDB 和 选择一个数据库 为了确保正确连接，我们需要指定数据库名，如果数据库在 mongoDB 中不存在， mongoDB 会自动创建
1&amp;lt;?php 2/* 3 * filename: main.php 4 * author: DDKK.COM 弟弟快看，程序员编程资料站(ddkk.com) 5 * Copyright © 2015-2065 ddkk.com. All rights reserved. 6*/ 7$m = new MongoClient(); // 连接默认主机和端口为：mongodb://localhost:27017 8$db = $m-&amp;gt;souyunku; // 切换到 &amp;#34;souyunku&amp;#34; 数据库 PHP MongoDB 创建集合 因初次访问，为防止爬虫和人机识别，请关注微信公众号，回复:‘验证码‘获取验证码来解锁全文 解锁内容 PHPMongoDB 创建创建集合可以使用下面的代码
1&amp;lt;?php 2/* 3 * filename: main.php 4 * author: DDKK.</description></item><item><title>三十四、MySQL DROP TABLE 删除临时表</title><link>https://www.shellio.cc/docs/database/mysql/34/</link><pubDate>Sat, 21 Oct 2023 12:22:54 +0800</pubDate><guid>https://www.shellio.cc/docs/database/mysql/34/</guid><description>在MySQSL CREATE TEMPORARY TABLE 创建临时表 中我们学习了 MySQL 临时表的特性和如何创建临时表
临时表只在当前连接可见，当关闭连接时，MySQL 会自动删除表并释放所有空间
但有时候我们可能需要手动删除临时表，比如持久性连接中，我们就要用完即删除
删除临时表和删除普通表的 SQL 语法时一模一样的，都是 DROP TABLE tablename
比如要删除临时表 tbl_language_tmp 则可以使用下面的语句
1DROP TABLE tbl_language_tmp; 演示 我们先使用下面的语句创建一个临时表 tbl_language_temp
1CREATE TEMPORARY TABLE IF NOT EXISTS tbl_language_tmp( 2 id INT UNSIGNED AUTO_INCREMENT, 3 name VARCHAR(64) NOT NULL, 4 url VARCHAR(128) NOT NULL, 5 founded_at DATE, 6 PRIMARY KEY ( id ) 7)ENGINE=InnoDB DEFAULT CHARSET=utf8mb4; 运行结果如下
1MariaDB [souyunku]&amp;gt;` CREATE TEMPORARY TABLE IF NOT EXISTS tbl_language_tmp( 2-&amp;gt;` id INT UNSIGNED AUTO_INCREMENT, 3-&amp;gt;` name VARCHAR(64) NOT NULL, 4-&amp;gt;` url VARCHAR(128) NOT NULL, 5-&amp;gt;` founded_at DATE, 6-&amp;gt;` PRIMARY KEY ( id ) 7-&amp;gt; )ENGINE=InnoDB DEFAULT CHARSET=utf8mb4; 8Query OK, 0 rows affected (0.</description></item><item><title>三十四、SQLite – Perl</title><link>https://www.shellio.cc/docs/database/sqlite/34/</link><pubDate>Sat, 21 Oct 2023 12:22:54 +0800</pubDate><guid>https://www.shellio.cc/docs/database/sqlite/34/</guid><description>SQLite – Perl 安装 因初次访问，为防止爬虫和人机识别，请关注微信公众号，回复:‘验证码‘获取验证码来解锁全文 解锁内容 SQLite3 可使用 Perl DBI 模块与 Perl 进行集成。Perl DBI 模块是 Perl 编程语言的数据库访问模块。它定义了一组提供标准数据库接口的方法、变量及规则。
下面显示了在 Linux/UNIX 机器上安装 DBI 模块的简单步骤：
1$ wget http://search.cpan.org/CPAN/authors/id/T/TI/TIMB/DBI-1.625.tar.gz 2$ tar xvfz DBI-1.625.tar.gz 3$ cd DBI-1.625 4$ perl Makefile.PL 5$ make 6$ make install 如果您需要为 DBI 安装 SQLite 驱动程序，那么可按照以下步骤进行安装：
1$ wget http://search.cpan.org/CPAN/authors/id/M/MS/MSERGEANT/DBD-SQLite-1.11.tar.gz 2$ tar xvfz DBD-SQLite-1.11.tar.gz 3$ cd DBD-SQLite-1.11 4$ perl Makefile.PL 5$ make 6$ make install DBI 接口 API 以下是重要的 DBI 程序，可以满足您在 Perl 程序中使用 SQLite 数据库的需求。如果您需要了解更多细节，请查看 Perl DBI 官方文档。</description></item><item><title>三十五、MySQL INSERT INTO SELECT 复制表</title><link>https://www.shellio.cc/docs/database/mysql/35/</link><pubDate>Sat, 21 Oct 2023 12:22:54 +0800</pubDate><guid>https://www.shellio.cc/docs/database/mysql/35/</guid><description>有时候我们可能需要将一张表完全的复制到另一张表，包括表的结构，索引，默认值等
MySQL 有没有这样的命令能够完成这样的任务呢？
有，也没有
说没有，是因为没有直接哪个命令能做这件事
说有，是因为可以用一序列之前学的命令完成这项任务
复制表 我们也不多介绍了，直接说要如何做吧
1、 使用SHOWCREATETABLE命令获取创建数据表(CREATETABLE)语句，该语句包含了原数据表的结构，索引等；
2、 复制1中的SQL语句，修改数据表名，并执行SQL语句，完整的克隆出一个数据表结构一模一样的表；
3、 如果需要复制表的内容，可以使用INSERTINTO...SELECT语句来实现；
演示 因初次访问，为防止爬虫和人机识别，请关注微信公众号，回复:‘验证码‘获取验证码来解锁全文 解锁内容 1、 运行下面的SQL语句创建测试数据；
1 DROP TABLE IF EXISTS tbl_language; 2 CREATE TABLE IF NOT EXISTS tbl_language( 3 id INT UNSIGNED AUTO_INCREMENT, 4 name VARCHAR(64) NOT NULL, 5 url VARCHAR(128) NOT NULL, 6 founded_at DATE, 7 PRIMARY KEY ( id ) 8 )ENGINE=InnoDB DEFAULT CHARSET=utf8mb4; 9 INSERT INTO tbl_language VALUES 10 (1,&amp;#39;Python&amp;#39;,&amp;#39;https://ddkk.com&amp;#39;,&amp;#39;1991-2-20&amp;#39;), 11 (2,&amp;#39;PHP&amp;#39;,&amp;#39;http://www.php.net&amp;#39;,&amp;#39;1994-1-1&amp;#39;), 12 (3,&amp;#39;Ruby&amp;#39;,&amp;#39;https://www.</description></item><item><title>三十五、PHP7 MongDB 扩展安装与使用</title><link>https://www.shellio.cc/docs/database/mongodb/35/</link><pubDate>Sat, 21 Oct 2023 12:22:54 +0800</pubDate><guid>https://www.shellio.cc/docs/database/mongodb/35/</guid><description>PHP7 Mongdb 扩展安装 假设我们的 PHP7 安装在 /usr/local/php7 目录
我们可以使用 pecl 命令来安装 PHP MongoDB 扩展
1$ /usr/local/php7/bin/pecl install mongodb 执行成功后，会输出以下信息
1... 2Build process completed successfully 3Installing &amp;#39;/usr/local/php7/lib/php/extensions/no-debug-non-zts-20151012/mongodb.so&amp;#39; 4install ok: channel://pecl.php.net/mongodb-1.1.7 5configuration option &amp;#34;php_ini&amp;#34; is not set to php.ini location 6You should add &amp;#34;extension=mongodb.so&amp;#34; to php.ini 然后打开 php.ini 文件添加 extension=mongodb.so 配置
或者可以直接执行以下命令来添加
1$ echo &amp;#34;extension=mongodb.so&amp;#34; &amp;gt;&amp;gt;` /usr/local/php7/bin/php --ini | grep &amp;#34;Loaded Configuration&amp;#34; | sed -e &amp;#34;s|.*:\s*||&amp;#34; 注意： 以上执行的命令中 php7 的安装目录为 /usr/local/php7/，如果你安装在其他目录，需要相应修改 pecl 与 php 命令的路径</description></item><item><title>三十五、SQLite – Python</title><link>https://www.shellio.cc/docs/database/sqlite/35/</link><pubDate>Sat, 21 Oct 2023 12:22:54 +0800</pubDate><guid>https://www.shellio.cc/docs/database/sqlite/35/</guid><description>SQLite – Python 安装 因初次访问，为防止爬虫和人机识别，请关注微信公众号，回复:‘验证码‘获取验证码来解锁全文 解锁内容 SQLite3 可使用 sqlite3 模块与 Python 进行集成。sqlite3 模块是由 Gerhard Haring 编写的。它提供了一个与 PEP 249 描述的 DB-API 2.0 规范兼容的 SQL 接口。您不需要单独安装该模块，因为 Python 2.5.x 以上版本默认自带了该模块。
为了使用 sqlite3 模块，您首先必须创建一个表示数据库的连接对象，然后您可以有选择地创建光标对象，这将帮助您执行所有的 SQL 语句。
Python sqlite3 模块 API 以下是重要的 sqlite3 模块程序，可以满足您在 Python 程序中使用 SQLite 数据库的需求。如果您需要了解更多细节，请查看 Python sqlite3 模块的官方文档。
序号 API &amp;amp; 描述 1 sqlite3.connect(database [,timeout ,other optional arguments])
该 API 打开一个到 SQLite 数据库文件 database 的链接。您可以使用 “:memory:” 来在 RAM 中打开一个到 database 的数据库连接，而不是在磁盘上打开。如果数据库成功打开，则返回一个连接对象。
当一个数据库被多个连接访问，且其中一个修改了数据库，此时 SQLite 数据库被锁定，直到事务提交。timeout 参数表示连接等待锁定的持续时间，直到发生异常断开连接。timeout 参数默认是 5.</description></item><item><title>三十一、MongoDB 状态检测 ( mongostat )</title><link>https://www.shellio.cc/docs/database/mongodb/31/</link><pubDate>Sat, 21 Oct 2023 12:22:54 +0800</pubDate><guid>https://www.shellio.cc/docs/database/mongodb/31/</guid><description>我们安装部署并启动 MongoDB 服务后，必须要了解 MongoDB 的运行情况，并查看 MongoDB 的性能
这样在流量比较大的是可以很好的应对并保证 MongoDB 持续正常运作
MongoDB 中提供了 mongostat 和 mongotop 两个命令来监控 MongoDB 的运行情况
mongostat 命令 mongostat 是 MongoDB 自带的状态检测工具，在命令行下使用
mogostat 命令会间隔固定时间获取 MongoDB 的当前运行状态，并输出
如果你发现数据库突然变慢或者有其他问题的话，首先要做的操作就考虑采用 mongostat 来查看 mongo 的状态
语法 MongoDB mongostat 脚本命令语法格式如下
1$ mongostat &amp;lt;options&amp;gt; &amp;lt;polling interval in seconds&amp;gt; 范例 1$ mongostat 输出结果如下
1$ mongostat 2insert query update delete getmore command flushes mapped vsize res faults qrw arw net_in net_out conn time 3 *0 *0 *0 *0 0 2|0 0 6.</description></item><item><title>三十一、MySQL ALTER 命令</title><link>https://www.shellio.cc/docs/database/mysql/31/</link><pubDate>Sat, 21 Oct 2023 12:22:54 +0800</pubDate><guid>https://www.shellio.cc/docs/database/mysql/31/</guid><description>MySQL ALTER 命令可以用来修改数据表名或者修改数据表字段
测试数据 先运行下面的 SQL 语句准备测试数据
你可以有选择性的删除某些语句，我这是重新构建数据库和表
1DROP DATABASE IF EXISTS souyunku; 2CREATE DATABASE souyunku default character set utf8mb4 collate utf8mb4_unicode_ci; 3USE souyunku; 4DROP TABLE IF EXISTS tbl_language; 5CREATE TABLE IF NOT EXISTS tbl_language( 6 id INT UNSIGNED AUTO_INCREMENT, 7 name VARCHAR(64) NOT NULL, 8 url VARCHAR(128) NOT NULL, 9 founded_at DATE, 10 PRIMARY KEY ( id ) 11)ENGINE=InnoDB DEFAULT CHARSET=utf8mb4; 12INSERT INTO tbl_language VALUES 13 (1,&amp;#39;Python&amp;#39;,&amp;#39;https://ddkk.com&amp;#39;,&amp;#39;1991-2-20&amp;#39;), 14 (2,&amp;#39;PHP&amp;#39;,&amp;#39;http://www.php.net&amp;#39;,&amp;#39;1994-1-1&amp;#39;), 15 (3,&amp;#39;Ruby&amp;#39;,&amp;#39;https://www.</description></item><item><title>三十一、SQLite – Java</title><link>https://www.shellio.cc/docs/database/sqlite/31/</link><pubDate>Sat, 21 Oct 2023 12:22:54 +0800</pubDate><guid>https://www.shellio.cc/docs/database/sqlite/31/</guid><description>SQLite – Java 安装 因初次访问，为防止爬虫和人机识别，请关注微信公众号，回复:‘验证码‘获取验证码来解锁全文 解锁内容 在Java 程序中使用 SQLite 之前，我们需要确保机器上已经有 SQLite JDBC Driver 驱动程序和 Java。可以查看 Java 教程了解如何在计算机上安装 Java。现在，我们来看看如何在机器上安装 SQLite JDBC 驱动程序。
从 sqlite-jdbc 库下载 sqlite-jdbc-(VERSION).jar 的最新版本。 在您的 class 路径中添加下载的 jar 文件 sqlite-jdbc-(VERSION).jar，或者在 -classpath 选项中使用它，这将在后面的实例中进行讲解。 在学习下面部分的知识之前，您必须对 Java JDBC 概念有初步了解。如果您还未了解相关知识，那么建议您可以先花半个小时学习下 JDBC 教程相关知识，这将有助于您学习接下来讲解的知识。
连接数据库 下面的Java 程序显示了如何连接到一个现有的数据库。如果数据库不存在，那么它就会被创建，最后将返回一个数据库对象。
1import java.sql.*; 2public class SQLiteJDBC 3 public static void main( String args[] ) 4 { 5 Connection c = null; 6 try { 7 Class.forName(&amp;#34;org.sqlite.JDBC&amp;#34;); 8 c = DriverManager.</description></item><item><title>十、MongoDB 切换数据库</title><link>https://www.shellio.cc/docs/database/mongodb/10/</link><pubDate>Sat, 21 Oct 2023 12:22:54 +0800</pubDate><guid>https://www.shellio.cc/docs/database/mongodb/10/</guid><description>语法 MongoDB 切换数据库的语法格式如下：
1use DATABASE_NAME 切换到指定数据库，如果数据库不存在，则创建数据库
范例 这个范例我们从 test 数据库切换到 souyunku 数据库
1&amp;gt; db 2test 3&amp;gt; use souyunku 4switched to db souyunku 5&amp;gt; db 6souyunku 7&amp;gt; MongoDB 中默认的数据库为 test，如果没有创建新的数据库，集合将存放在 test 数据库中</description></item><item><title>十、MySQL 删除数据库</title><link>https://www.shellio.cc/docs/database/mysql/10/</link><pubDate>Sat, 21 Oct 2023 12:22:54 +0800</pubDate><guid>https://www.shellio.cc/docs/database/mysql/10/</guid><description>MySQL 删除数据库的方式有两种
1、 使用mysqladmindrop命令删除数据库；
2、 使用DROPDATABASE语句删除数据库；
在删除数据库过程中，务必要十分谨慎，因为在执行删除命令后，所有数据将会消失，而且不可撤销
如果使用普通用户连接到 MySQL 服务器，可能需要特定的权限来创建或者删除 MySQL 数据库
我们使用 root 用户登录，因为 root 用户拥有最高权限
使用 mysqladmin drop 命令删除数据库 可以使用 mysqladmin drop 命令来删除数据库
mysqladmin 命令语法格式如下 1mysqladmin [OPTIONS] command [command-option] command ... 通过执行 mysqladmin --help，可以得到 mysqladmin 的版本所支持的一个选项列表
命令(command) 描述 create databasename 创建一个新数据库 drop databasename 删除一个数据库及其所有表 extended-status 给出服务器的一个扩展状态消息 flush-hosts 洗掉所有缓存的主机 flush-logs 洗掉所有日志 flush-tables 洗掉所有表 flush-privileges 再次装载授权表(同 reload ) kill id,id,… 杀死 mysql 线程 password 新口令，将老口令改为新口令 ping 检查 mysqld 是否活着 processlist 显示服务其中活跃线程列表 reload 重载授权表 refresh 洗掉所有表并关闭和打开日志文件 shutdown 关掉服务器 status 给出服务器的简短状态消息 variables 打印出可用变量 version 得到服务器的版本信息 下面的mysqladmin drop 可以删除我们前一章节中创建的 souyunku 数据库</description></item><item><title>十、SQLite Distinct 关键字</title><link>https://www.shellio.cc/docs/database/sqlite/10/</link><pubDate>Sat, 21 Oct 2023 12:22:54 +0800</pubDate><guid>https://www.shellio.cc/docs/database/sqlite/10/</guid><description>SQLite Distinct 关键字 SQLite 的 DISTINCT 关键字与 SELECT 语句一起使用，来消除所有重复的记录，并只获取唯一一次记录。
有可能出现一种情况，在一个表中有多个重复的记录。当提取这样的记录时，DISTINCT 关键字就显得特别有意义，它只获取唯一一次记录，而不是获取重复记录。
语法 因初次访问，为防止爬虫和人机识别，请关注微信公众号，回复:‘验证码‘获取验证码来解锁全文 解锁内容 用于消除重复记录的 DISTINCT 关键字的基本语法如下：
1SELECT DISTINCT column1, column2,.....columnN 2FROM table_name 3WHERE [condition] 实例 假设COMPANY 表有以下记录：
1ID NAME AGE ADDRESS SALARY 2---------- ---------- ---------- ---------- ---------- 31 Paul 32 California 20000.0 42 Allen 25 Texas 15000.0 53 Teddy 23 Norway 20000.0 64 Mark 25 Rich-Mond 65000.0 75 David 27 Texas 85000.0 86 Kim 22 South-Hall 45000.0 97 James 24 Houston 10000.</description></item><item><title>十八、MongoDB 条件操作符</title><link>https://www.shellio.cc/docs/database/mongodb/18/</link><pubDate>Sat, 21 Oct 2023 12:22:54 +0800</pubDate><guid>https://www.shellio.cc/docs/database/mongodb/18/</guid><description>MongoDB中条件操作符有 操作符 描述 MongoDB 表示方法 &amp;gt; 大于 $gt &amp;lt; 小于 $lt &amp;gt;= 大于等于 $gte &amp;lt;= 小于等于 $lte 范例数据 使用以下命令向 数据库 souyunku 中的 lession 集合中插入数据
1&amp;gt; db.lession.remove({}); 1&amp;gt; db.lession.insert({ 2 title: &amp;#39;PHP 基础教程&amp;#39;, 3 description: &amp;#39;PHP 是一种创建动态交互性站点的强有力的服务器端脚本语言&amp;#39;, 4 by: &amp;#39;penglei&amp;#39;, 5 url: &amp;#39;https://ddkk.com/l/penglei/php/php-basic-index.html&amp;#39;, 6 tags: [&amp;#39;php&amp;#39;,&amp;#39;php7&amp;#39;], 7 favorite: 2000 8}) 1&amp;gt; db.lession.insert({title: &amp;#39;Java 基础教程&amp;#39;, 2 description: &amp;#39;Java 可以用来开发 JAVA WEB 和 AndRoid APP 运用程序&amp;#39;, 3 by: &amp;#39;penglei&amp;#39;, 4 url: &amp;#39;https://ddkk.com/l/penglei/java/java-basic-index.html&amp;#39;, 5 tags: [&amp;#39;java&amp;#39;,&amp;#39;android&amp;#39;], 6 favorite: 3000 7}) 1&amp;gt; db.</description></item><item><title>十八、MySQL SELECT FROM 查询数据</title><link>https://www.shellio.cc/docs/database/mysql/18/</link><pubDate>Sat, 21 Oct 2023 12:22:54 +0800</pubDate><guid>https://www.shellio.cc/docs/database/mysql/18/</guid><description>MySQL 使用 SELECT FROM SQL 语句来查询表中的数据
SELECT FROM SQL 语句语法 使用SELECT FROM SQL 语句查询表中数据的语法格式如下
1SELECT column_name,column_name 2FROM table_name 3[WHERE Clause] 4[LIMIT N,M] 1、 查询语句中可以使用一个或者多个表，表之间使用逗号(,)分隔，并使用WHERE语句来设定查询条件；
1 SELECT a.id,b.name FROM a,b WHERE a.id=b.id; 2、 SELECT命令可以读取一条或者多条记录；
3、 可以使用星号（*）来代替column_name，但这会返回表的所有字段数据；
1 SELECT * FROM tbl_language; 4、 可以使用WHERE子句来有条件的查询数据；
1 SELECT * FROM tbl_language WHERE name = &amp;#39;Python&amp;#39;; 5、 可以使用LIMIT子句来设定返回的记录数；
1 SELECT * FROM tbl_language LIMIT 1; 6、 可以通过LIMIT字句指定开始查询的数据偏移量；
1 SELECT * FROM tbl_language LIMIT 1,2; 偏移量从 0 开始计算， 0 表示第一条， 1 表示第二条</description></item><item><title>十八、SQLite 索引</title><link>https://www.shellio.cc/docs/database/sqlite/18/</link><pubDate>Sat, 21 Oct 2023 12:22:54 +0800</pubDate><guid>https://www.shellio.cc/docs/database/sqlite/18/</guid><description>SQLite 索引（Index） 索引（Index）是一种特殊的查找表，数据库搜索引擎用来加快数据检索。简单地说，索引是一个指向表中数据的指针。一个数据库中的索引与一本书后边的索引是非常相似的。
例如，如果您想在一本讨论某个话题的书中引用所有页面，您首先需要指向索引，索引按字母顺序列出了所有主题，然后指向一个或多个特定的页码。
索引有助于加快 SELECT 查询和 WHERE 子句，但它会减慢使用 UPDATE 和 INSERT 语句时的数据输入。索引可以创建或删除，但不会影响数据。
使用CREATE INDEX 语句创建索引，它允许命名索引，指定表及要索引的一列或多列，并指示索引是升序排列还是降序排列。
索引也可以是唯一的，与 UNIQUE 约束类似，在列上或列组合上防止重复条目。
CREATE INDEX 命令 因初次访问，为防止爬虫和人机识别，请关注微信公众号，回复:‘验证码‘获取验证码来解锁全文 解锁内容 CREATE INDEX 的基本语法如下：
1CREATE INDEX index_name ON table_name; 单列索引 单列索引是一个只基于表的一个列上创建的索引。基本语法如下：
1CREATE INDEX index_name 2ON table_name (column_name); 唯一索引 使用唯一索引不仅是为了性能，同时也为了数据的完整性。唯一索引不允许任何重复的值插入到表中。基本语法如下：
1CREATE INDEX index_name 2on table_name (column_name); 组合索引 组合索引是基于一个表的两个或多个列上创建的索引。基本语法如下：
1CREATE INDEX index_name 2on table_name (column1, column2); 是否要创建一个单列索引还是组合索引，要考虑到您在作为查询过滤条件的 WHERE 子句中使用非常频繁的列。
如果值使用到一个列，则选择使用单列索引。如果在作为过滤的 WHERE 子句中有两个或多个列经常使用，则选择使用组合索引。
隐式索引 隐式索引是在创建对象时，由数据库服务器自动创建的索引。索引自动创建为主键约束和唯一约束。
实例 下面是一个例子，我们将在 COMPANY 表的 salary 列上创建一个索引：</description></item><item><title>十二、MongoDB 备份数据( mongodump )</title><link>https://www.shellio.cc/docs/database/mongodb/12/</link><pubDate>Sat, 21 Oct 2023 12:22:54 +0800</pubDate><guid>https://www.shellio.cc/docs/database/mongodb/12/</guid><description>MongoDB mongodump 脚本命令可以导出所有数据到指定目录中
语法 MongoDB mongodump 脚本命令语法如下：
1mongodump -h dbhost -d dbname -o dbdirectory 参数说明 -h： 需要导出 MongDB 数据所在的服务器地址
例如 127.0.0.1 ，当然也可以同时指定端口号：127.0.0.1:27017 -d： 需要备份的数据库，例 test -o： 备份的数据存放位置，例如：/mnt/data/backup/mongodb/
该目录需要提前建立，在备份完成后，系统自动在 mongodb 目录下建立一个 test 目录，这个目录里面存放该数据库实例的备份数据 mongodump 命令可选参数 1、 mongodump–hostHOST_NAME–portPORT_NUMBER；
1该命令将备份所有 MongoDB 数据 1 mongodump --host db1.souyunku.cn --port 27017 2、 mongodump–dbpathDB_PATH–outBACKUP_DIRECTORY；
1该命令备份指定的 DB\_PATH 数据库到 BACKUP\_DIRECTORY 目录 1 mongodump --dbpath /data/db/ --out /data/backup/ 3、 mongodump–collectionCOLLECTION–dbDB_NAME；
1该命令将备份指定数据库 DB\_NAME 的 COLLECTION 集合 1 mongodump --collection lession --db test 范例 1、 首先使用–port27017启动MongoDB服务；</description></item><item><title>十二、MySQL 数据类型</title><link>https://www.shellio.cc/docs/database/mysql/12/</link><pubDate>Sat, 21 Oct 2023 12:22:54 +0800</pubDate><guid>https://www.shellio.cc/docs/database/mysql/12/</guid><description>MySQL 中众多的数据类型可供选择，大致可以分为三类：数值、日期/时间和字符串(字符)类型。
MySQL 中定义恰当的数据字段的类型对 MySQL 数据库的优化是非常重要的
数值类型 MySQL 支持所有标准 SQL 数值数据类型
这些类型包括
1、 严格数值数据类型(INTEGER、SMALLINT、DECIMAL和NUMERIC)；
2、 近似数值数据类型(FLOAT、REAL和DOUBLEPRECISION)；
关键字INT 是 INTEGER 的同义词，关键字 DEC 是 DECIMAL 的同义词
BIT 数据类型保存位字段值，并且支持 MyISAM 、MEMORY 、InnoDB 和 BDB 等数据库引擎
作为SQL 标准 的扩展，MySQL 也支持整数类型 TINYINT 、 MEDIUMINT 和 BIGINT
下表列出了每种整数类型的存储长度和数值范围
类型 大小 范围（有符号） 范围（无符号） 用途 TINYINT 1 字节 (-128，127) (0，255) 小整数值 SMALLINT 2 字节 (-32 768，32 767) (0，65 535) 大整数值 MEDIUMINT 3 字节 (-8 388 608，8 388 607) (0，16 777 215) 大整数值 INT</description></item><item><title>十二、SQLite 约束</title><link>https://www.shellio.cc/docs/database/sqlite/12/</link><pubDate>Sat, 21 Oct 2023 12:22:54 +0800</pubDate><guid>https://www.shellio.cc/docs/database/sqlite/12/</guid><description>SQLite 约束 约束是在表的数据列上强制执行的规则。这些是用来限制可以插入到表中的数据类型。这确保了数据库中数据的准确性和可靠性。
约束可以是列级或表级。列级约束仅适用于列，表级约束被应用到整个表。
以下是在 SQLite 中常用的约束。
NOT NULL 约束：确保某列不能有 NULL 值。 DEFAULT 约束：当某列没有指定值时，为该列提供默认值。 UNIQUE 约束：确保某列中的所有值是不同的。 PRIMARY Key 约束：唯一标识数据库表中的各行/记录。 CHECK 约束：CHECK 约束确保某列中的所有值满足一定条件。 NOT NULL 约束 因初次访问，为防止爬虫和人机识别，请关注微信公众号，回复:‘验证码‘获取验证码来解锁全文 解锁内容 默认情况下，列可以保存 NULL 值。如果您不想某列有 NULL 值，那么需要在该列上定义此约束，指定在该列上不允许 NULL 值。
NULL 与没有数据是不一样的，它代表着未知的数据。
实例 例如，下面的 SQLite 语句创建一个新的表 COMPANY，并增加了五列，其中 ID、NAME 和 AGE 三列指定不接受 NULL 值：
1CREATE TABLE COMPANY( 2 ID INT PRIMARY KEY NOT NULL, 3 NAME TEXT NOT NULL, 4 AGE INT NOT NULL, 5 ADDRESS CHAR(50), 6 SALARY REAL 7); DEFAULT 约束 DEFAULT 约束在 INSERT INTO 语句没有提供一个特定的值时，为列提供一个默认值。</description></item><item><title>十九、MongoDB $type操作符</title><link>https://www.shellio.cc/docs/database/mongodb/19/</link><pubDate>Sat, 21 Oct 2023 12:22:54 +0800</pubDate><guid>https://www.shellio.cc/docs/database/mongodb/19/</guid><description>下表是 MongoDB 中的数据类型 类型 数字 Double 1 String 2 Object 3 Array 4 Binary data 5 Undefined已废弃 6 Object id 7 Boolean 8 Date 9 Null 10 Regular Expression 11 JavaScript 13 Symbol 14 JavaScript (with scope) 15 32-bit integer 16 Timestamp 17 64-bit integer 18 Min key 255 Max key 127 范例数据 使用以下命令向 数据库 souyunku 中的 lession 集合中插入数据
1&amp;gt; db.lession.remove({}); 1&amp;gt; db.lession.insert({ 2 title: &amp;#39;PHP 基础教程&amp;#39;, 3 description: &amp;#39;PHP 是一种创建动态交互性站点的强有力的服务器端脚本语言&amp;#39;, 4 by: &amp;#39;penglei&amp;#39;, 5 url: &amp;#39;https://ddkk.</description></item><item><title>十九、MySQL WHERE 子句有条件的查询数据</title><link>https://www.shellio.cc/docs/database/mysql/19/</link><pubDate>Sat, 21 Oct 2023 12:22:54 +0800</pubDate><guid>https://www.shellio.cc/docs/database/mysql/19/</guid><description>可以在SELECT FROM 语句中添加 WHERE 字句有条件地从表中选取数据
WHERE 子句类似于程序语言中的 if 条件，根据 MySQL 表中的字段值来读取指定的数据
如果给定的条件在表中没有任何匹配的记录，那么查询不会返回任何数据
WHERE 字句语法 SQLSELECT 语句使用 WHERE 子句从数据表中读取数据的通用语法如下
1SELECT field1, field2,...fieldN FROM table1, table2... 2[WHERE condition1 [AND [OR]] condition2..... SELECT 语句中可以使用一个或者多个表，表之间使用逗号(,)分割，并使用 WHERE 语句来设定查询条件 可以在 WHERE 子句中指定任何条件 可以使用 AND 或者 OR 指定一个或多个条件 WHERE 子句也可以运用于 SQL 的 DELETE 或者 UPDATE 命令 WHERE 字句支持的操作符 下表列出了 WHERE 字句支持的操作符
我们假定 A 为 10, B 为 20
操作符 描述 范例 = 等号，检测两个值是否相等，如果相等返回 true (A=B) 返回 false &amp;lt;&amp;gt;</description></item><item><title>十九、SQLite Indexed By</title><link>https://www.shellio.cc/docs/database/sqlite/19/</link><pubDate>Sat, 21 Oct 2023 12:22:54 +0800</pubDate><guid>https://www.shellio.cc/docs/database/sqlite/19/</guid><description>SQLite Indexed By “INDEXED BY index-name” 子句规定必须需要命名的索引来查找前面表中值。
如果索引名 index-name 不存在或不能用于查询，然后 SQLite 语句的准备失败。
“NOT INDEXED” 子句规定当访问前面的表（包括由 UNIQUE 和 PRIMARY KEY 约束创建的隐式索引）时，没有使用索引。
然而，即使指定了 “NOT INDEXED”，INTEGER PRIMARY KEY 仍然可以被用于查找条目。
语法 因初次访问，为防止爬虫和人机识别，请关注微信公众号，回复:‘验证码‘获取验证码来解锁全文 解锁内容 下面是INDEXED BY 子句的语法，它可以与 DELETE、UPDATE 或 SELECT 语句一起使用：
1SELECT|DELETE|UPDATE column1, column2... 2INDEXED BY (index_name) 3table_name 4WHERE (CONDITION); 实例 假设有表 COMPANY，我们将创建一个索引，并用它进行 INDEXED BY 操作。
1sqlite&amp;gt; CREATE INDEX salary_index ON COMPANY(salary); 2sqlite&amp;gt; 现在使用 INDEXED BY 子句从表 COMPANY 中选择数据，如下所示：
1sqlite&amp;gt; SELECT * FROM COMPANY INDEXED BY salary_index WHERE salary &amp;gt; 5000;</description></item><item><title>十六、MongoDB 删除集合</title><link>https://www.shellio.cc/docs/database/mongodb/16/</link><pubDate>Sat, 21 Oct 2023 12:22:54 +0800</pubDate><guid>https://www.shellio.cc/docs/database/mongodb/16/</guid><description>1db.collection_name.drop() 范例 下面的命令演示了如何删除 souyunku 数据库中的集合 site
1&amp;gt; use souyunku 2switched to db souyunku 3&amp;gt; show tables 4site 5&amp;gt; db.site.drop() 6true 7&amp;gt; show tables 8&amp;gt;</description></item><item><title>十六、MySQL 插入数据</title><link>https://www.shellio.cc/docs/database/mysql/16/</link><pubDate>Sat, 21 Oct 2023 12:22:54 +0800</pubDate><guid>https://www.shellio.cc/docs/database/mysql/16/</guid><description>MySQL 中使用 INSERT INTO SQL 语句来往某个表中插入数据
INSERT INTO SQL 语句语法 使用INSERT INTO SQL 语句往表中插入数据的语法格式如下
1INSERT INTO table_name ( field1, field2,...fieldN ) 2 VALUES 3 ( value1, value2,...valueN ); 如果数据是字符型，必须使用单引号或者双引号，如 &amp;quot;value&amp;quot;
例如
1INSERT INTO tbl_language (name,url,founded_at) VALUES (&amp;#39;Python&amp;#39;,&amp;#39;https://ddkk.com&amp;#39;,&amp;#39;1991-2-20&amp;#39;); 如果数据包含了全部字段，且按照字段的顺序，那么可以用下面的简写语法
1INSERT INTO table_name VALUES ( value1, value2,...valueN ); 例如
1INSERT INTO tbl_language VALUES (1,&amp;#39;Python&amp;#39;,&amp;#39;https://ddkk.com&amp;#39;,&amp;#39;1991-2-20&amp;#39;); 如果是多条语句，可以用 逗号(,) 分隔每条数据
1INSERT INTO tbl_language VALUES 2 (1,&amp;#39;Python&amp;#39;,&amp;#39;https://ddkk.com&amp;#39;,&amp;#39;1991-2-20&amp;#39;), 3 (2,&amp;#39;PHP&amp;#39;,&amp;#39;http://www.php.net&amp;#39;,&amp;#39;1994-1-1&amp;#39;), 4 (3,&amp;#39;Ruby&amp;#39;,&amp;#39;https://www.ruby-lang.org/&amp;#39;,&amp;#39;1996-12-25&amp;#39;) 通过命令提示窗口插入数据 可以在mysql&amp;gt; 命令提示窗口中执行 INSERT INTO SQL 语句向某个表中插入数据</description></item><item><title>十六、SQLite 别名</title><link>https://www.shellio.cc/docs/database/sqlite/16/</link><pubDate>Sat, 21 Oct 2023 12:22:54 +0800</pubDate><guid>https://www.shellio.cc/docs/database/sqlite/16/</guid><description>SQLite 别名 您可以暂时把表或列重命名为另一个名字，这被称为别名。使用表别名是指在一个特定的 SQLite 语句中重命名表。重命名是临时的改变，在数据库中实际的表的名称不会改变。
列别名用来为某个特定的 SQLite 语句重命名表中的列。
语法 因初次访问，为防止爬虫和人机识别，请关注微信公众号，回复:‘验证码‘获取验证码来解锁全文 解锁内容 表 别名的基本语法如下：
1SELECT column1, column2.... 2FROM table_name AS alias_name 3WHERE [condition]; 列 别名的基本语法如下：
1SELECT column_name AS alias_name 2FROM table_name 3WHERE [condition]; 实例 假设有下面两个表，（1）COMPANY 表如下所示：
1sqlite&amp;gt; select * from COMPANY; 2ID NAME AGE ADDRESS SALARY 3---------- -------------------- ---------- ---------- ---------- 41 Paul 32 California 20000.0 52 Allen 25 Texas 15000.0 63 Teddy 23 Norway 20000.0 74 Mark 25 Rich-Mond 65000.0 85 David 27 Texas 85000.</description></item><item><title>十七、MongoDB 查询文档</title><link>https://www.shellio.cc/docs/database/mongodb/17/</link><pubDate>Sat, 21 Oct 2023 12:22:54 +0800</pubDate><guid>https://www.shellio.cc/docs/database/mongodb/17/</guid><description>find() 方法以非结构化的方式来显示所有文档
除了find() 方法之外，还有一个 findOne() 方法，它只返回一个文档
语法 find() 方法语法格式如下
1&amp;gt; db.COLLECTION_NAME.find(query, projection) 参数说明 参数 说明 query 可选，使用查询操作符指定查询条件 projection 可选，使用投影操作符指定返回的键。查询时返回文档中所有键值， 只需省略该参数即可（默认省略） pretty() 方法 MongoDB pretty() 方法以易读的方式来显示数据
pretty() 语法格式如下 1&amp;gt; db.COLLECTION_NAME.find().pretty() 范例数据 使用以下命令向 数据库 souyunku 中的 lession 集合中插入数据
1&amp;gt; db.lession.remove({}); 1&amp;gt; db.lession.insert({ 2 title: &amp;#39;PHP 基础教程&amp;#39;, 3 description: &amp;#39;PHP 是一种创建动态交互性站点的强有力的服务器端脚本语言&amp;#39;, 4 by: &amp;#39;penglei&amp;#39;, 5 url: &amp;#39;https://ddkk.com/l/penglei/php/php-basic-index.html&amp;#39;, 6 tags: [&amp;#39;php&amp;#39;,&amp;#39;php7&amp;#39;], 7 favorite: 2000 8}) 1&amp;gt; db.lession.insert({title: &amp;#39;Java 基础教程&amp;#39;, 2 description: &amp;#39;Java 可以用来开发 JAVA WEB 和 AndRoid APP 运用程序&amp;#39;, 3 by: &amp;#39;penglei&amp;#39;, 4 url: &amp;#39;https://ddkk.</description></item><item><title>十七、MySQL 获取插入数据的 ID</title><link>https://www.shellio.cc/docs/database/mysql/17/</link><pubDate>Sat, 21 Oct 2023 12:22:54 +0800</pubDate><guid>https://www.shellio.cc/docs/database/mysql/17/</guid><description>在MySQL 插入数据 我们已经学会了如何往一张表中插入数据，但要如何获取插入数据的 id 值呢 ?
不要疑惑，不然会长皱纹，MySQL 提供了 LAST_INSERT_ID() 函数用于获取上一次插入数据的 ID
我们可以使用下面的 SQL 命令获取上一次插入数据的 ID;
1SELECT LAST_INSERT_ID(); 准备范例数据 可以在mysql&amp;gt; 命令行中运行以下语句填充范例数据
1DROP TABLE IF EXISTS tbl_language; 2CREATE TABLE IF NOT EXISTS tbl_language( 3 id INT UNSIGNED AUTO_INCREMENT, 4 name VARCHAR(64) NOT NULL, 5 url VARCHAR(128) NOT NULL, 6 founded_at DATE, 7 PRIMARY KEY ( id ) 8)ENGINE=InnoDB DEFAULT CHARSET=utf8mb4; INSERT INTO tbl_language (name,url,founded_at) VALUES (‘Ruby’,’https://www.ruby-lang.org/’,’1996-12-25′);
通过命令提示窗口获取插入数据的 ID 因初次访问，为防止爬虫和人机识别，请关注微信公众号，回复:‘验证码‘获取验证码来解锁全文 解锁内容 可以在mysql&amp;gt; 命令提示窗口中执行 INSERT INTO SQL 语句向某个表中插入数据</description></item><item><title>十七、SQLite 触发器</title><link>https://www.shellio.cc/docs/database/sqlite/17/</link><pubDate>Sat, 21 Oct 2023 12:22:54 +0800</pubDate><guid>https://www.shellio.cc/docs/database/sqlite/17/</guid><description>SQLite 触发器（Trigger） SQLite 的触发器是数据库的回调函数，它会在指定的数据库事件发生时自动执行/调用。以下是关于SQLite的触发器的要点：SQLite **触发器（Trigger）**是数据库的回调函数，它会在指定的数据库事件发生时自动执行/调用。以下是关于 SQLite 的触发器（Trigger）的要点：
SQLite 的触发器（Trigger）可以指定在特定的数据库表发生 DELETE、INSERT 或 UPDATE 时触发，或在一个或多个指定表的列发生更新时触发。 SQLite 只支持 FOR EACH ROW 触发器（Trigger），没有 FOR EACH STATEMENT 触发器（Trigger）。因此，明确指定 FOR EACH ROW 是可选的。 WHEN 子句和触发器（Trigger）动作可能访问使用表单 NEW.column-name 和 OLD.column-name 的引用插入、删除或更新的行元素，其中 column-name 是从与触发器关联的表的列的名称。 如果提供 WHEN 子句，则只针对 WHEN 子句为真的指定行执行 SQL 语句。如果没有提供 WHEN 子句，则针对所有行执行 SQL 语句。 BEFORE 或 AFTER 关键字决定何时执行触发器动作，决定是在关联行的插入、修改或删除之前或者之后执行触发器动作。 当触发器相关联的表删除时，自动删除触发器（Trigger）。 要修改的表必须存在于同一数据库中，作为触发器被附加的表或视图，且必须只使用 tablename，而不是 database.tablename。 一个特殊的 SQL 函数 RAISE() 可用于触发器程序内抛出异常。 语法 因初次访问，为防止爬虫和人机识别，请关注微信公众号，回复:‘验证码‘获取验证码来解锁全文 解锁内容 创建 触发器（Trigger） 的基本语法如下：
1CREATE TRIGGER trigger_name [BEFORE|AFTER] event_name 2ON table_name 3BEGIN 4 -- Trigger logic goes here.</description></item><item><title>十三、MongoDB 插入文档</title><link>https://www.shellio.cc/docs/database/mongodb/13/</link><pubDate>Sat, 21 Oct 2023 12:22:54 +0800</pubDate><guid>https://www.shellio.cc/docs/database/mongodb/13/</guid><description>MongoDB 文档的数据结构和 JSON 基本一样
存储在MongoDB 集合中的数据都是 BSON 格式
BSON 是一种类 json 的一种二进制形式的存储格式,简称 Binary JSON
insert() 方法 MongoDB 使用 insert() 或 save() 方法向集合中插入文档
insert() 方法语法格式如下 1db.COLLECTION_NAME.insert(document) 范例 这个范例使用 insert() 方法将文档存储到 souyunku 数据库的 lession 集合中
1&amp;gt; db.lession.insert({title: &amp;#39;MongoDB 基础教程&amp;#39;, 2 description: &amp;#39;MongoDB 是最流行的 Nosql 数据库&amp;#39;, 3 by: &amp;#39;penglei&amp;#39;, 4 url: &amp;#39;https://ddkk.com&amp;#39;, 5 tags: [&amp;#39;mongodb&amp;#39;, &amp;#39;database&amp;#39;, &amp;#39;NoSQL&amp;#39;], 6 favorite: 1000000 7}) 8WriteResult({ &amp;#34;nInserted&amp;#34; : 1 }) 如果lession 集合不在数据库 souyunku 中， MongoDB 会自动创建该集合并插入文档
查看已插入文档 1&amp;gt; db.</description></item><item><title>十三、MySQL 列出数据表</title><link>https://www.shellio.cc/docs/database/mysql/13/</link><pubDate>Sat, 21 Oct 2023 12:22:54 +0800</pubDate><guid>https://www.shellio.cc/docs/database/mysql/13/</guid><description>如果要查看当前选择的数据库有哪些表，可以使用 SHOW TABLES; 命令
在 mysql&amp;gt;` 终端中查看数据库列表 打开一个终端(命令行)，输入 mysql -u root -p 进入 mysql&amp;gt; 命令行
然后输入 USE souyunku; 选择 souyunku 数据库
最后输入 SHOW TABLES; 命令就可以查看当前选择的数据库有哪些表
1$ mysql -uroot -p 2Enter password: 3Welcome to the MariaDB monitor. Commands end with ; or \g. 4Your MariaDB connection id is 117 5Server version: 10.2.13-MariaDB Homebrew 6Copyright (c) 2000, 2018, Oracle, MariaDB Corporation Ab and others. 7Type &amp;#39;help;&amp;#39; or &amp;#39;\h&amp;#39; for help. Type &amp;#39;\c&amp;#39; to clear the current input statement.</description></item><item><title>十三、SQLite Joins</title><link>https://www.shellio.cc/docs/database/sqlite/13/</link><pubDate>Sat, 21 Oct 2023 12:22:54 +0800</pubDate><guid>https://www.shellio.cc/docs/database/sqlite/13/</guid><description>SQLite Joins SQLite 的 Joins 子句用于结合两个或多个数据库中表的记录。JOIN 是一种通过共同值来结合两个表中字段的手段。
SQL定义了三种主要类型的连接：
交叉连接 – CROSS JOIN 内连接 – INNER JOIN 外连接 – OUTER JOIN 在我们继续之前，让我们假设有两个表 COMPANY 和 DEPARTMENT。我们已经看到了用来填充 COMPANY 表的 INSERT 语句。现在让我们假设 COMPANY 表的记录列表如下：
1ID NAME AGE ADDRESS SALARY 2---------- ---------- ---------- ---------- ---------- 31 Paul 32 California 20000.0 42 Allen 25 Texas 15000.0 53 Teddy 23 Norway 20000.0 64 Mark 25 Rich-Mond 65000.0 75 David 27 Texas 85000.0 86 Kim 22 South-Hall 45000.0 97 James 24 Houston 10000.</description></item><item><title>十四、MongoDB 更新文档</title><link>https://www.shellio.cc/docs/database/mongodb/14/</link><pubDate>Sat, 21 Oct 2023 12:22:54 +0800</pubDate><guid>https://www.shellio.cc/docs/database/mongodb/14/</guid><description>update() 方法 MongoDB update() 方法用于更新已存在的文档
语法 1&amp;gt; db.collection.update( 2 &amp;lt;query&amp;gt;, 3 &amp;lt;update&amp;gt;, 4 { 5 upsert: &amp;lt;boolean&amp;gt;, 6 multi: &amp;lt;boolean&amp;gt;, 7 writeConcern: &amp;lt;document&amp;gt; 8 } 参数说明 参数 说明 query update 方法的查询条件，类似 sql update 查询内 where 语句 update update的数据和一些更新的操作符（如$,$inc…）等
可以理解为 sql update 语句中的 set 子句 upsert 可选。如果数据不存在集合中，是否插入数据
true 插入 ， 默认是 false，不插入 multi 可选。是否只更新找到的第一条记录。如果为 true，就把按条件查出来多条记录全部更新，默认是 false 只更新第一条 writeConcern 可选，设置抛出异常的级别 实例 上一章节中学习 insert() 方法的插入了三条数据
pretty() 用于美化输出结果
1&amp;gt; db.lession.find().pretty() 2 &amp;#34;_id&amp;#34; : ObjectId(&amp;#34;59ed9d2dc3ba87608db0fe4b&amp;#34;), 3 &amp;#34;title&amp;#34; : &amp;#34;MongoDB 基础教程&amp;#34;, 4 &amp;#34;description&amp;#34; : &amp;#34;MongoDB 是最流行的 Nosql 数据库&amp;#34;, 5 &amp;#34;by&amp;#34; : &amp;#34;penglei&amp;#34;, 6 &amp;#34;url&amp;#34; : &amp;#34;https://ddkk.</description></item><item><title>十四、MySQL 创建数据表</title><link>https://www.shellio.cc/docs/database/mysql/14/</link><pubDate>Sat, 21 Oct 2023 12:22:54 +0800</pubDate><guid>https://www.shellio.cc/docs/database/mysql/14/</guid><description>MySQL 可以使用 CREATE TABLE SQL 语句创建表
创建MySQL 数据表需要 表名 、表字段名 、定义每个表字段
CREATE TABLE 语句语法 下面的SQL 语句为创建 MySQL 数据表的通用语法
1CREATE TABLE table_name (column_name column_type); 例如下面的 SQL 语句将在 souyunku 数据库中创建 tbl_language 表
1CREATE TABLE IF NOT EXISTS tbl_language( 2 id INT UNSIGNED AUTO_INCREMENT, 3 name VARCHAR(64) NOT NULL, 4 url VARCHAR(128) NOT NULL, 5 founded_at DATE, 6 PRIMARY KEY ( id ) 7)ENGINE=InnoDB DEFAULT CHARSET=utf8mb4; 如果不想字段为 NULL 可以设置字段的属性为 NOT NULL 往表中插入数据时，如果输入该字段的数据为 NULL ，就会报错</description></item><item><title>十四、SQLite Unions 子句</title><link>https://www.shellio.cc/docs/database/sqlite/14/</link><pubDate>Sat, 21 Oct 2023 12:22:54 +0800</pubDate><guid>https://www.shellio.cc/docs/database/sqlite/14/</guid><description>SQLite Unions 子句 SQLite的 UNION 子句/运算符用于合并两个或多个 SELECT 语句的结果，不返回任何重复的行。
为了使用 UNION，每个 SELECT 被选择的列数必须是相同的，相同数目的列表达式，相同的数据类型，并确保它们有相同的顺序，但它们不必具有相同的长度。
语法 因初次访问，为防止爬虫和人机识别，请关注微信公众号，回复:‘验证码‘获取验证码来解锁全文 解锁内容 UNION 的基本语法如下：
1SELECT column1 [, column2 ] 2FROM table1 [, table2 ] 3[WHERE condition] 4UNION 5SELECT column1 [, column2 ] 6FROM table1 [, table2 ] 7[WHERE condition] 这里给定的条件根据需要可以是任何表达式。
实例 假设有下面两个表，（1）COMPANY 表如下所示：
1sqlite&amp;gt; select * from COMPANY; 2ID NAME AGE ADDRESS SALARY 3---------- -------------------- ---------- ---------- ---------- 41 Paul 32 California 20000.0 52 Allen 25 Texas 15000.</description></item><item><title>十五、MongoDB 删除文档</title><link>https://www.shellio.cc/docs/database/mongodb/15/</link><pubDate>Sat, 21 Oct 2023 12:22:54 +0800</pubDate><guid>https://www.shellio.cc/docs/database/mongodb/15/</guid><description>在前面一章节中我们学习了如何向文档中插入数据，现在我们来学习如何在删除 MongoDB 集合
remove() 方法 MongoDB remove() 方法是用来删除集合中的数据
语法 remove() 方法语法格式如下
1&amp;gt; db.collection.remove( 2 &amp;lt;query&amp;gt;, 3 &amp;lt;justOne&amp;gt; 在运行 remove() 函数前先执行 find() 命令来判断执行的条件是否正确，这是一个良好的习惯
参数说明 参数 说明 query 必选。删除的文档的条件 justOne 可选。如果设为 true 或 1，则只删除一个文档 如果MongoDB 是 2.6 版本以后的，语法格式如下
1&amp;gt; db.collection.remove( 2 &amp;lt;query&amp;gt;, 3 { 4 justOne: &amp;lt;boolean&amp;gt;, 5 writeConcern: &amp;lt;document&amp;gt; 6 } 参数说明 参数 说明 query 可选。删除的文档的条件 justOne 可选。如果设为 true 或 1，则只删除一个文档 writeConcern 可选。抛出异常的级别 范例 首先我们执行 insert() 方法 3 次插入 3 条数据</description></item><item><title>十五、MySQL 删除表</title><link>https://www.shellio.cc/docs/database/mysql/15/</link><pubDate>Sat, 21 Oct 2023 12:22:54 +0800</pubDate><guid>https://www.shellio.cc/docs/database/mysql/15/</guid><description>MySQL 使用 DROP TABLE SQL 语句删除数据库中的一个表
要小心，因为执行删除命令后表中所有的数据都会消失，而且无法撤销
DROP TABLE SQL 语句语法 使用DROP TABLE SQL 语句删除数据表的通用语法如下
1DROP TABLE table_name ; 在命令提示窗口中删除数据表 可以在mysql&amp;gt; 命令提示窗口中执行 DROP TABLE SQL 语句删除数据表
下面的代码演示了如何删除 souyunku 中的数据表 tbl_language
1MariaDB [souyunku]&amp;gt; use souyunku; 2Database changed 3MariaDB [souyunku]&amp;gt; SHOW TABLES; 4+----------------+ 5| Tables_in_souyunku | 6+----------------+ 7| customer | 8| sites | 9| tbl_language | 10+----------------+ 113 rows in set (0.00 sec) 12MariaDB [souyunku]&amp;gt; DROP TABLE tbl_language; 13Query OK, 0 rows affected (0.</description></item><item><title>十五、SQLite NULL 值</title><link>https://www.shellio.cc/docs/database/sqlite/15/</link><pubDate>Sat, 21 Oct 2023 12:22:54 +0800</pubDate><guid>https://www.shellio.cc/docs/database/sqlite/15/</guid><description>SQLite NULL 值 SQLite 的 NULL 是用来表示一个缺失值的项。表中的一个 NULL 值是在字段中显示为空白的一个值。
带有NULL 值的字段是一个不带有值的字段。NULL 值与零值或包含空格的字段是不同的，理解这点是非常重要的。
语法 因初次访问，为防止爬虫和人机识别，请关注微信公众号，回复:‘验证码‘获取验证码来解锁全文 解锁内容 创建表时使用 NULL 的基本语法如下：
1SQLite&amp;gt; CREATE TABLE COMPANY( 2 ID INT PRIMARY KEY NOT NULL, 3 NAME TEXT NOT NULL, 4 AGE INT NOT NULL, 5 ADDRESS CHAR(50), 6 SALARY REAL 7); 在这里，NOT NULL 表示列总是接受给定数据类型的显式值。这里有两个列我们没有使用 NOT NULL，这意味着这两个列能为 NULL。
带有NULL 值的字段在记录创建的时候可以保留为空。
实例 NULL 值在选择数据时会引起问题，因为当把一个未知的值与另一个值进行比较时，结果总是未知的，且不会包含在最后的结果中。假设有下面的表，COMPANY 的记录如下所示：
1ID NAME AGE ADDRESS SALARY 2---------- ---------- ---------- ---------- ---------- 31 Paul 32 California 20000.</description></item><item><title>十一、MongoDB 删除数据库</title><link>https://www.shellio.cc/docs/database/mongodb/11/</link><pubDate>Sat, 21 Oct 2023 12:22:54 +0800</pubDate><guid>https://www.shellio.cc/docs/database/mongodb/11/</guid><description>1db.dropDatabase() 默认数据库为 test，可以使用 db 命令查看当前数据库名
范例 接下来我们将演示如何删除 souyunku 数据库
1、 首先查看所有数据库；
1 &amp;gt; show dbs 2 local 0.000GB 3 souyunku 0.000GB 4 test 0.000GB 2、 接下来切换到数据库souyunku；
1 &amp;gt; use souyunku 2 switched to db souyunku 3 &amp;gt; 3、 执行删除命令；
1 &amp;gt; db.dropDatabase() 2 { &amp;#34;dropped&amp;#34; : &amp;#34;souyunku&amp;#34;, &amp;#34;ok&amp;#34; : 1 } 4、 最后通过showdbs命令数据库是否删除成功；
1 &amp;gt; show dbs 2 local 0.000GB 3 test 0.000GB 4 &amp;gt;</description></item><item><title>十一、MySQL 选择数据库</title><link>https://www.shellio.cc/docs/database/mysql/11/</link><pubDate>Sat, 21 Oct 2023 12:22:54 +0800</pubDate><guid>https://www.shellio.cc/docs/database/mysql/11/</guid><description>一般MySQL 数据库服务器上都会有多个可以操作的数据库，我们可能要在数据库之间来回切换
MySQL 允许我们保持连接的时间内切换数据库
mysql client 命令提示窗口中切换 MySQL 数据库 连接到MySQL 数据服务器后，可以在 mysql&amp;gt; 提示窗口中切换或选择特定的数据库。
使用USE SQL命令来选择指定的数据库
USE 命令语法格式如下 1USE **database**; 下面的SQL 语句切换到了 souyunku 数据库
1MariaDB [(none)]&amp;gt; select database(); 2+------------+ 3| database() | 4+------------+ 5| NULL | 6+------------+ 71 row in set (0.00 sec) 8MariaDB [(none)]&amp;gt; USE souyunku; 9Database changed 10MariaDB [souyunku]&amp;gt; select database(); 11+------------+ 12| database() | 13+------------+ 14| souyunku | 15+------------+ 161 row in set (0.00 sec) 执行USE souyunku; 语句后命令后，我们就成功切换到了 souyunku 数据库，在后续的操作中都会在 souyunku 数据库中执行</description></item><item><title>十一、SQLite PRAGMA</title><link>https://www.shellio.cc/docs/database/sqlite/11/</link><pubDate>Sat, 21 Oct 2023 12:22:54 +0800</pubDate><guid>https://www.shellio.cc/docs/database/sqlite/11/</guid><description>SQLite PRAGMA SQLite 的 PRAGMA 命令是一个特殊的命令，可以用在 SQLite 环境内控制各种环境变量和状态标志。一个 PRAGMA 值可以被读取，也可以根据需求进行设置。
语法 因初次访问，为防止爬虫和人机识别，请关注微信公众号，回复:‘验证码‘获取验证码来解锁全文 解锁内容 要查询当前的 PRAGMA 值，只需要提供该 pragma 的名字：
1PRAGMA pragma_name; 要为PRAGMA 设置一个新的值，语法如下：
1PRAGMA pragma_name = value; 设置模式，可以是名称或等值的整数，但返回的值将始终是一个整数。
auto_vacuum Pragma auto_vacuum Pragma 获取或设置 auto-vacuum 模式。语法如下：
1PRAGMA [database.]auto_vacuum; 2PRAGMA [database.]auto_vacuum = mode; 其中，mode 可以是以下任何一种：
Pragma 值 描述 0 或 NONE 禁用 Auto-vacuum。这是默认模式，意味着数据库文件尺寸大小不会缩小，除非手动使用 VACUUM 命令。 1 或 FULL 启用 Auto-vacuum，是全自动的。在该模式下，允许数据库文件随着数据从数据库移除而缩小。 2 或 INCREMENTAL 启用 Auto-vacuum，但是必须手动激活。在该模式下，引用数据被维持，免费页面只放在免费列表中。这些页面可在任何时候使用 incremental_vacuum pragma 进行覆盖。 cache_size Pragma cache_size Pragma 可获取或暂时设置在内存中页面缓存的最大尺寸。语法如下：</description></item><item><title>四、MySQL 管理</title><link>https://www.shellio.cc/docs/database/mysql/4/</link><pubDate>Sat, 21 Oct 2023 12:22:54 +0800</pubDate><guid>https://www.shellio.cc/docs/database/mysql/4/</guid><description>通过以下命令来检查 MySQL 服务器是否启动
1ps -ef | grep mysql 例如在我的苹果电脑上运行如下
1[root@ddkk.com ~]# ps -ef | grep mysql 2mysql 1520 1 0 18:21 ? 00:00:00 /bin/sh /usr/bin/mysqld_safe --basedir=/usr 3mysql 1682 1520 0 18:21 ? 00:00:00 /usr/libexec/mysqld --basedir=/usr --datadir=/var/lib/mysql --plugin-dir=/usr/lib64/mysql/plugin --log-error=/var/log/mariadb/mariadb.log --pid-file=/var/run/mariadb/mariadb.pid --socket=/var/lib/mysql/mysql.sock 4root 1774 1744 0 18:29 pts/0 00:00:00 grep --color=auto mysql 如果MySql 已经启动，上面的命令会输出 mysql 进程列表 mysqld_safe 和 mysqld
启动 MySQL 命令 如果MySQL 未启动，使用以下命令来启动 MySQL 服务器
1[root@ddkk.com ~]# mysqld_safe &amp;amp; 关闭 MySQL 命令 因初次访问，为防止爬虫和人机识别，请关注微信公众号，回复:‘验证码‘获取验证码来解锁全文 解锁内容 如果想关闭目前运行的 MySQL 服务器, 可以执行以下命令</description></item><item><title>四、SQLite Like 子句</title><link>https://www.shellio.cc/docs/database/sqlite/4/</link><pubDate>Sat, 21 Oct 2023 12:22:54 +0800</pubDate><guid>https://www.shellio.cc/docs/database/sqlite/4/</guid><description>SQLite Like 子句 SQLite 的 LIKE 运算符是用来匹配通配符指定模式的文本值。如果搜索表达式与模式表达式匹配，LIKE 运算符将返回真（true），也就是 1。这里有两个通配符与 LIKE 运算符一起使用：
百分号 （%） 下划线 （_） 百分号（%）代表零个、一个或多个数字或字符。下划线（_）代表一个单一的数字或字符。这些符号可以被组合使用。
语法 因初次访问，为防止爬虫和人机识别，请关注微信公众号，回复:‘验证码‘获取验证码来解锁全文 解锁内容 %和_ 的基本语法如下：
1SELECT FROM table_name 2WHERE column LIKE &amp;#39;XXXX%&amp;#39; 3or 4SELECT FROM table_name 5WHERE column LIKE &amp;#39;%XXXX%&amp;#39; 6or 7SELECT FROM table_name 8WHERE column LIKE &amp;#39;XXXX_&amp;#39; 9or 10SELECT FROM table_name 11WHERE column LIKE &amp;#39;_XXXX&amp;#39; 12or 13SELECT FROM table_name 14WHERE column LIKE &amp;#39;_XXXX_&amp;#39; 您可以使用 AND 或 OR 运算符来结合 N 个数量的条件。在这里，XXXX 可以是任何数字或字符串值。
实例 下面一些实例演示了 带有 ‘%’ 和 ‘_’ 运算符的 LIKE 子句不同的地方：</description></item><item><title>四、Windows 平台安装 MongoDB</title><link>https://www.shellio.cc/docs/database/mongodb/4/</link><pubDate>Sat, 21 Oct 2023 12:22:54 +0800</pubDate><guid>https://www.shellio.cc/docs/database/mongodb/4/</guid><description>我们可以从 MongoDB 官网下载安装
MongoDB 预编译二进制包下载地址：https://www.mongodb.com/download-center#community
在MongoDB 2.2 版本后已经不再支持 Windows XP 系统 最新版本也已经没有了 32 位系统的安装文件
MongoDB for Windows 64-bit 适合 64 位的 Windows Server 2008 R2, Windows 7 , 及最新版本的 Window 系统。 MongoDB for Windows 32-bit 适合 32 位的 Window 系统及最新的 Windows Vista。 32 位系统上 MongoDB 的数据库最大为 2GB MongoDB for Windows 64-bit Legacy 适合 64 位的 Windows Vista, Windows Server 2003, 及 Windows Server 2008 下载64 位的 .msi 文件，下载后双击该文件，按操作提示安装即可
安装过程中，你可以通过点击 “Custom(自定义)” 按钮来设置你的安装目录。</description></item><item><title>四十、MongoDB 原子操作</title><link>https://www.shellio.cc/docs/database/mongodb/40/</link><pubDate>Sat, 21 Oct 2023 12:22:54 +0800</pubDate><guid>https://www.shellio.cc/docs/database/mongodb/40/</guid><description>MongoDB 数据库不支持事务，所以，在我们的项目中，无论什么设计，都不能要求 MongoDB 保证数据的完整性
但MongoDB 提供了许多原子操作，比如文档的保存，修改，删除等，都是原子操作
原子操作就是
1要么文档保存到 MongoDB，要么没有保存到 MongoDB，不会出现查询到的文档没有保存完整的情况 原子操作方法 MongoDB findAndy.. 方法提供了原子操作机制
MongoDB 支持原子操作方法如下
1、 db.collection.findAndModify()；
2、 db.collection.findOneAndDelete()；
3、 db.collection.findOneAndReplace()；
4、 db.collection.findOneAndUpdate()；
原子操作数据模型 因初次访问，为防止爬虫和人机识别，请关注微信公众号，回复:‘验证码‘获取验证码来解锁全文 解锁内容 假设我们遇到了下面这种需求：书店的书籍及结账信息
这个范例说明了在一个相同的文档中如何确保嵌入字段关联原子操作（update：更新）的字段是同步的
souyunku.bookstore 1book = { 2 id: 88888888 3 title: &amp;#34;MongoDB: 最终指南&amp;#34;, 4 author: [ &amp;#34;Kristina Chodorow&amp;#34;, &amp;#34;Mike Dirolf&amp;#34; ], 5 published_date: ISODate(&amp;#34;2010-09-24&amp;#34;), 6 pages: 216, 7 language: &amp;#34;English&amp;#34;, 8 publisher_id: &amp;#34;oreilly&amp;#34;, 9 available: 3, 10 checkout: [ { by: &amp;#34;penglei&amp;#34;, date: ISODate(&amp;#34;2017-10-15&amp;#34;) } ] 11 } 我们可以使用 db.</description></item><item><title>四十、MySQL 导出数据</title><link>https://www.shellio.cc/docs/database/mysql/40/</link><pubDate>Sat, 21 Oct 2023 12:22:54 +0800</pubDate><guid>https://www.shellio.cc/docs/database/mysql/40/</guid><description>MySQL 导出数据有两种方法
1、 使用SELECT...INTOOUTFILE语句来简单的导出数据到某个文件中；
2、 使用mysqldump；
准备测试数据 可以在mysql&amp;gt; 命令行中运行以下语句填充范例数据
1DROP TABLE IF EXISTS tbl_language; 2DROP TABLE IF EXISTS tbl_rank; 3CREATE TABLE IF NOT EXISTS tbl_language( 4 id INT UNSIGNED AUTO_INCREMENT, 5 name VARCHAR(64) NOT NULL, 6 url VARCHAR(128) NOT NULL, 7 founded_at DATE, 8 PRIMARY KEY ( id ) 9)ENGINE=InnoDB DEFAULT CHARSET=utf8mb4; 10CREATE TABLE IF NOT EXISTS tbl_rank( 11 id INT UNSIGNED AUTO_INCREMENT, 12 name VARCHAR(64) NOT NULL, 13 month VARCHAR(7) NOT NULL, 14 rank TINYINT NOT NULL, 15 rate VARCHAR(32) NOT NULL, 16 PRIMARY KEY ( id ) 17)ENGINE=InnoDB DEFAULT CHARSET=utf8mb4; 18INSERT INTO tbl_language VALUES 19 (1,&amp;#39;Python&amp;#39;,&amp;#39;https://ddkk.</description></item><item><title>四十八、MongoDB GridFS</title><link>https://www.shellio.cc/docs/database/mongodb/48/</link><pubDate>Sat, 21 Oct 2023 12:22:54 +0800</pubDate><guid>https://www.shellio.cc/docs/database/mongodb/48/</guid><description>GridFS 也是文件存储的一种方式，但是它是存储在 MonoDB 的集合中
GridFS 会将大文件对象分割成多个小的 chunk(文件片段),一般为 256k / 个,每个 chunk 将作为 MongoDB 的一个文档 (document) 被存储在 chunks 集合中
GridFS 用两个集合来存储一个文件：fs.files 与 fs.chunks
每个文件的实际内容被存在chunks(二进制数据)中,和文件有关的 meta 数据 (filename,content_type,还有用户自定义的属性)将会被存在files集合中
这是一个简单的 fs.files 集合文档
1{ 2 &amp;#34;_id&amp;#34; : ObjectId(&amp;#34;59ed5f4c2a2f951ba5353165&amp;#34;), 3 &amp;#34;chunkSize&amp;#34; : 261120, 4 &amp;#34;uploadDate&amp;#34; : ISODate(&amp;#34;2017-10-23T03:17:32.209Z&amp;#34;), 5 &amp;#34;length&amp;#34; : 4904740, 6 &amp;#34;md5&amp;#34; : &amp;#34;4da09a6750c7bbcc49f916d940fde4f2&amp;#34;, 7 &amp;#34;filename&amp;#34; : &amp;#34;20171023.mp3&amp;#34; 这是一个简单的 fs.chunks 集合文档
1{ 2 &amp;#34;files_id&amp;#34;: ObjectId(&amp;#34;534a75d19f54bfec8a2fe44b&amp;#34;), 3 &amp;#34;n&amp;#34;: NumberInt(0), 4 &amp;#34;data&amp;#34;: &amp;#34;Mongo Binary Data&amp;#34; GridFS 添加文件 GridFS 的 put 命令可以用来添加文件</description></item><item><title>四十二、MongoDB 索引限制</title><link>https://www.shellio.cc/docs/database/mongodb/42/</link><pubDate>Sat, 21 Oct 2023 12:22:54 +0800</pubDate><guid>https://www.shellio.cc/docs/database/mongodb/42/</guid><description>MongoDB 对索引是有限制的，具体包括以下几个方面
1. 额外开销 每个索引占据一定的存储空间，在进行插入，更新和删除操作时也需要对索引进行操作
所以，如果很少对集合进行读取操作，建议不使用索引
2. 内存 ( RAM ) 使用 由于索引是存储在内存( RAM )中，所以应该确保该索引的大小不超过内存的限制
如果索引的大小大于内存的限制，MongoDB 会删除一些索引，这将导致性能下降
3. 查询限制 索引不能被以下的查询使用：
正则表达式及非操作符，如 $nin, $not, 等 算术运算符，如 $mod, 等 $where 子句 所以，实时确保我们的 MongoDB 的语句是否使用索引是一个好的习惯，可以用 explain() 方法 来查看
4. 索引键限制 从2、6 版本开始，如果现有的索引字段的值超过索引键的限制，MongoDB 中不会创建索引
5. 插入文档超过索引键限制 如果文档的索引字段值超过了索引键的限制，MongoDB 不会将任何文档转换成索引的集合
与mongorestore 和 mongoimport 工具类似
MongoDB 最大范围 1、 集合中索引不能超过64个；
2、 索引名的长度不能超过128个字符；
3、 一个复合索引最多可以有31个字段；</description></item><item><title>四十九、MongoDB 固定集合（Capped Collections）</title><link>https://www.shellio.cc/docs/database/mongodb/49/</link><pubDate>Sat, 21 Oct 2023 12:22:54 +0800</pubDate><guid>https://www.shellio.cc/docs/database/mongodb/49/</guid><description>因为大小固定，我们可以想象其就像一个环形队列，当集合空间用完后，再插入的元素就会覆盖最初始的头部的元素
Capped collections 有很高的性能以及队列过期的特性(过期按照插入的顺序)，这个有点和 “RRD” 概念类似
Capped collections 它非常适合类似记录日志的功能
创建固定集合 使用createCollection 可以创建一个固定集合，但要设置 capped 属性设置为 true
1&amp;gt; db.createCollection(&amp;#34;mycapped_log&amp;#34;,{capped:true,size:10000}) 2{ &amp;#34;ok&amp;#34; : 1 } 还可以指定文档个数,加上 max:1000 属性
1&amp;gt; db.createCollection(&amp;#34;mycapped_log&amp;#34;,{capped:true,size:10000,max:1000}) 2{ &amp;#34;ok&amp;#34; : 1 } 判断集合是否为固定集合:
1&amp;gt; db.mycapped_log.isCapped() 2true 可以使用以下命令将已存在的集合转换为固定集合
1&amp;gt; db.runCommand({&amp;#34;convertToCapped&amp;#34;:&amp;#34;language&amp;#34;,size:10000}) 2{ &amp;#34;ok&amp;#34; : 1 } 上面的命令将已存在的 language 集合转换为固定集合
固定集合查询 因初次访问，为防止爬虫和人机识别，请关注微信公众号，回复:‘验证码‘获取验证码来解锁全文 解锁内容 因为固定集合文档按照插入顺序储存的，所以默认情况下查询就是按照插入顺序返回的
但我们也可以使用 $natural 调整返回顺序
1&amp;gt; db.capped_Log.find().sort({$natural:-1}) 固定集合的特点 固定集合可以插入及更新,但更新不能超出 collection 的大小,否则更新失败
固定集合不允许删除,但是可以调用 drop() 删除集合中的所有行,但是 drop 后需要显式地重建集合
在32 位机子上一个 cappped collection 的最大值约为 482.</description></item><item><title>四十六、MongoDB 正则表达式</title><link>https://www.shellio.cc/docs/database/mongodb/46/</link><pubDate>Sat, 21 Oct 2023 12:22:54 +0800</pubDate><guid>https://www.shellio.cc/docs/database/mongodb/46/</guid><description>正则表达式是使用单个字符串来描述、匹配一系列符合某个句法规则的字符串。
许多程序设计语言都支持利用正则表达式进行字符串操作。
MongoDB 使用 PCRE (Perl Compatible Regular Expression) 作为正则表达式语言
不同于全文检索，我们使用正则表达式不需要做任何配置。
假设有以下 posts 集合的文档结构，该文档包含了文章内容和标签：
1{ 2 &amp;#34;post_text&amp;#34;: &amp;#34;enjoy the mongodb articles on souyunku&amp;#34;, 3 &amp;#34;tags&amp;#34;: [ 4 &amp;#34;mongodb&amp;#34;, 5 &amp;#34;souyunku&amp;#34; 6 ] 使用正则表达式 以下命令使用正则表达式查找包含 souyunku 字符串的文章：
1&amp;gt;db.posts.find({post_text:{$regex:&amp;#34;souyunku&amp;#34;}}) 以上查询也可以写为：
1&amp;gt;db.posts.find({post_text:/souyunku/}) 不区分大小写的正则表达式 因初次访问，为防止爬虫和人机识别，请关注微信公众号，回复:‘验证码‘获取验证码来解锁全文 解锁内容 如果检索需要不区分大小写，我们可以设置 $options 为 $i。
以下命令将查找不区分大小写的字符串 souyunku：
1&amp;gt;db.posts.find({post_text:{$regex:&amp;#34;souyunku&amp;#34;,$options:&amp;#34;$i&amp;#34;}}) 集合中会返回所有包含字符串 souyunku 的数据，且不区分大小写：
1{ 2 &amp;#34;_id&amp;#34; : ObjectId(&amp;#34;53493d37d852429c10000004&amp;#34;), 3 &amp;#34;post_text&amp;#34; : &amp;#34;hey! this is my post on souyunku&amp;#34;, 4 &amp;#34;tags&amp;#34; : [ &amp;#34;souyunku&amp;#34; ] 数组元素使用正则表达式 我们还可以在数组字段中使用正则表达式来查找内容。 这在标签的实现上非常有用，如果你需要查找包含以 run 开头的标签数据(ru 或 run 或 souyunku)， 你可以使用以下代码：</description></item><item><title>四十七、MongoDB 管理工具-Rockmongo</title><link>https://www.shellio.cc/docs/database/mongodb/47/</link><pubDate>Sat, 21 Oct 2023 12:22:54 +0800</pubDate><guid>https://www.shellio.cc/docs/database/mongodb/47/</guid><description>通过Rockmongo 我们可以管理 MongoDB 服务，数据库，集合，文档，索引等等
Rockmongo 提供了非常人性化的操作，类似 phpMyAdmin（ PHP开发的 MySql 管理工具）
Rockmongo 下载地址： http://rockmongo.com/downloads
Rockmongo 主要特征 使用宽松的 New BSD License 协议
速度快，安装简单
支持多语言（目前提供中文、英文、日文、巴西葡萄牙语、法语、德语、俄语、意大利语）
系统
可以配置多个主机，每个主机可以有多个管理员
需要管理员密码才能登入操作，确保数据库的安全性
服务器
服务器信息 (WEB服务器, PHP, PHP.ini相关指令 …)
状态
数据库信息
数据库
查询，创建和删除
执行命令和Javascript代码
统计信息
集合（相当于表）
强大的查询工具
读数据，写数据，更改数据，复制数据，删除数据
查询、创建和删除索引
清空数据
批量删除和更改数据
统计信息
GridFS
查看分块
下载文件
安装 因初次访问，为防止爬虫和人机识别，请关注微信公众号，回复:‘验证码‘获取验证码来解锁全文 解锁内容 安装需求 1、 一个能运行PHP的Web服务器，比如ApacheHttpd,Nginx；
2、 PHP需要PHPv5.1.6或更高版本，需要支持SESSION为了能连接MongoDB，需要安装php_mongo扩展；
快速安装 1、 下载安装包；
2、 解压到网站目录下；
3、 用编辑器打开config.php，修改host,port,admins等参数；
4、 在浏览器中访问index.php，例如http://localhost/rockmongo/index.php；
5、 使用用户名和密码登录，默认为“admin”和“admin”；
6、 开始玩转MongoDB；
参考文档 1、 http://rockmongo.</description></item><item><title>四十三、MongoDB ObjectId</title><link>https://www.shellio.cc/docs/database/mongodb/43/</link><pubDate>Sat, 21 Oct 2023 12:22:54 +0800</pubDate><guid>https://www.shellio.cc/docs/database/mongodb/43/</guid><description>其实在前面几个章节中我们已经使用了 MongoDB ObjectId
本章节，我们将学习 ObjectId 的结构
ObjectId 是一个 12 字节 BSON 类型数据，由以下几部分组成
1、 前4个字节表示时间戳；
2、 接下来的3个字节是机器标识码；
3、 紧接的两个字节由进程id组成（PID）；
4、 最后三个字节是随机数；
MongoDB中存储的文档必须有一个 _id 键 这个键的值可以是任何类型的，默认是 ObjectId 对象
在一个集合里面，每个文档都有唯一的 _id 值，来确保集合里面每个文档都能被唯一标识
MongoDB 采用 ObjectId，而不是其他比较常规的做法（比如自动增加的主键）的主要原因，因为在多个 服务器上同步自动增加主键值既费力还费时
MongoDB 创建新的 ObjectId 下面的代码可以生成新的 ObjectId
1&amp;gt; newid = ObjectId() 2ObjectId(&amp;#34;59ef2598a0f7c7d445f864b3&amp;#34;) 可以使用生成的 id 来取代 MongoDB 自动生成的 ObjectId
创建文档的时间戳 因初次访问，为防止爬虫和人机识别，请关注微信公众号，回复:‘验证码‘获取验证码来解锁全文 解锁内容 由于ObjectId 中存储了 4 个字节的时间戳
所以我们不需要再为文档保存时间戳字段，因为可以通过 getTimestamp 函数来获取文档的创建时间
1&amp;gt; ObjectId(&amp;#34;59ef2598a0f7c7d445f864b3&amp;#34;).getTimestamp() 2ISODate(&amp;#34;2017-10-24T11:35:52Z&amp;#34;) ObjectId 转换为字符串 str 属性可以返回 ObjectId 的字符串格式
1&amp;gt; ObjectId(&amp;#34;59ef2598a0f7c7d445f864b3&amp;#34;).str 259ef2598a0f7c7d445f864b3</description></item><item><title>四十四、MongoDB Map Reduce</title><link>https://www.shellio.cc/docs/database/mongodb/44/</link><pubDate>Sat, 21 Oct 2023 12:22:54 +0800</pubDate><guid>https://www.shellio.cc/docs/database/mongodb/44/</guid><description>Map-Reduce 是一种计算模型，简单的说就是将大批量的工作（数据）分解（MAP）执行，然后再将结果合并成最终结果 ( REDUCE )
mapReduce 方法 语法 MongoDB mapReduce() 方法语法格式如下
1&amp;gt;db.collection.mapReduce( 2 function() {emit(key,value);}, // map 函数 3 function(key,values) {return reduceFunction}, // reduce 函数 4 { 5 out: collection, 6 query: document, 7 sort: document, 8 limit: number 9 } 使用mapReduce 方法实现两个函数 Map 函数和 Reduce 函数
Map函数调用 emit(key, value), 遍历 collection 中所有的记录, 将 key 与 value 传递给 Reduce 函数进行处理
Map函数必须调用 emit(key, value) 返回键值对
参数说明 map ：映射函数，生成键值对序列，作为 reduce 函数参数 reduce 统计函数，reduce 函数的任务就是将key-values变成key-value，也就是把values数组变成一个单一的值value out 统计结果存放集合 (不指定则使用临时集合,在客户端断开后自动删除)。 query 一个筛选条件，只有满足条件的文档才会调用map函数 ( query、limit，sort可以随意组合 ) sort 和limit结合的sort排序参数（也是在发往map函数前给文档排序），可以优化分组机制 limit 发往map函数的文档数量的上限（要是没有limit，单独使用sort的用处不大） Map-Reduce 计算模型图示 在这张图中，在集合 orders 中查找 status:”A” 的数据，并根据 cust_id 来分组，并计算 amount 的总和</description></item><item><title>四十五、MongoDB 全文检索</title><link>https://www.shellio.cc/docs/database/mongodb/45/</link><pubDate>Sat, 21 Oct 2023 12:22:54 +0800</pubDate><guid>https://www.shellio.cc/docs/database/mongodb/45/</guid><description>这个过程类似于通过字典中的检索字表查字的过程。
MongoDB 从 2.4 版本开始支持全文检索
MongoDB 在 2.6 版本以后是默认开启全文检索的
MongoDB 目前支持 15 种语言( 暂时不支持中文 )的全文索引 danish dutch english finnish french german hungarian italian norwegian portuguese romanian russian spanish swedish turkish 启用全文检索 MongoDB 在 2.6 版本以后是默认开启全文检索的，如果你使用之前的版本，你需要使用以下代码来启用全文检索:
1&amp;gt;db.adminCommand({setParameter:true,textSearchEnabled:true}) 或者使用命令：
1mongod --setParameter textSearchEnabled=true 创建全文索引 因初次访问，为防止爬虫和人机识别，请关注微信公众号，回复:‘验证码‘获取验证码来解锁全文 解锁内容 考虑以下 posts 集合的文档数据，包含了文章内容（post_text）及标签(tags)：
1{ 2 &amp;#34;post_text&amp;#34;: &amp;#34;enjoy the mongodb articles on Twle&amp;#34;, 3 &amp;#34;tags&amp;#34;: [ 4 &amp;#34;mongodb&amp;#34;, 5 &amp;#34;souyunku&amp;#34; 6 ] 我们可以对 post_text 字段建立全文索引，这样我们可以搜索文章内的内容：
1&amp;gt;db.posts.ensureIndex({post_text:&amp;#34;text&amp;#34;}) 使用全文索引 现在我们已经对 post_text 建立了全文索引，我们可以搜索文章中的关键词 souyunku：</description></item><item><title>四十一、MongoDB 高级索引</title><link>https://www.shellio.cc/docs/database/mongodb/41/</link><pubDate>Sat, 21 Oct 2023 12:22:54 +0800</pubDate><guid>https://www.shellio.cc/docs/database/mongodb/41/</guid><description>查询表达式必须遵循指定的索引的顺序
假设我们有以下文档集合 souyunku.users
1{ 2 &amp;#34;address&amp;#34;: { 3 &amp;#34;city&amp;#34;: &amp;#34;Pek&amp;#34;, 4 &amp;#34;state&amp;#34;: &amp;#34;Pek&amp;#34;, 5 &amp;#34;pincode&amp;#34;: &amp;#34;100007&amp;#34; 6 }, 7 &amp;#34;tags&amp;#34;: [ 8 &amp;#34;video&amp;#34;, 9 &amp;#34;book&amp;#34;, 10 &amp;#34;music&amp;#34; 11 ], 12 &amp;#34;name&amp;#34;: &amp;#34;penglei&amp;#34; 这个文档包含了 address 子文档和 tags 数组
索引数组字段 假设现在我们需要基于标签来检索用户，为此我们需要对集合中的数组 tags 建立索引
在数组中创建索引，需要对数组中的每个字段依次建立索引
因此要对数组 tags 创建索引时，就要为 music、book、vedio 三个值建立单独的索引
使用以下命令创建数组索引
1&amp;gt; db.users.ensureIndex({&amp;#34;tags&amp;#34;:1}) 2 &amp;#34;createdCollectionAutomatically&amp;#34; : false, 3 &amp;#34;numIndexesBefore&amp;#34; : 2, 4 &amp;#34;numIndexesAfter&amp;#34; : 3, 5 &amp;#34;ok&amp;#34; : 1 索引建完后，我们可以使用下面的命令来检索集合的 tags 字段</description></item><item><title>四十一、MySQL 导入数据</title><link>https://www.shellio.cc/docs/database/mysql/41/</link><pubDate>Sat, 21 Oct 2023 12:22:54 +0800</pubDate><guid>https://www.shellio.cc/docs/database/mysql/41/</guid><description>MySQL 数据库系统有三种方式可以导入 MySQL 导出的数据
1、 使用LOADDATA；
2、 使用mysql命令；
3、 使用·mysqlimport·命令；
使用 LOAD DATA 导入数据 MySQL 中提供了 LOAD DATA INFILE 语句插入数据
下面的SQL 语句从当前目录中读取文件 tbl_language.sql ，将该文件中的数据插入到当前数据库的 tbl_language 表中
1LOAD DATA LOCAL INFILE &amp;#39;tbl_language.sql&amp;#39; INTO TABLE tbl_language; 如果指定 LOCAL 关键词，则表明从客户主机上按路径读取文件
如果没有指定，则文件在服务器上按路径读取文件
导入 csv 格式文件 如果需要导入 csv 格式文件，可以明确地在 LOAD DATA语句中指出列值的分隔符 FIELDS 和行尾标记 LINES
两个命令的 FIELDS 和 LINES 子句的语法是一样的，都是可选的
但是如果两个同时被指定，FIELDS 子句必须出现在 LINES 子句之前
如果用户指定一个 FIELDS 子句，它的子句 （TERMINATED BY、[OPTIONALLY] ENCLOSED BY 和 ESCAPED BY) 也是可选的，不过，用户必须至少指定它们中的一个
1LOAD DATA LOCAL INFILE &amp;#39;tbl_language.</description></item><item><title>五、Linux 平台安装 MongoDB</title><link>https://www.shellio.cc/docs/database/mongodb/5/</link><pubDate>Sat, 21 Oct 2023 12:22:54 +0800</pubDate><guid>https://www.shellio.cc/docs/database/mongodb/5/</guid><description>下载地址： https://www.mongodb.com/download-center#community
下载完安装包，并解压 tgz （以下演示的是 64 位 Linux 上的安装 ）
1、 下载；
1 curl -O https://fastdl.mongodb.org/linux/mongodb-linux-x86_64-3.4.9.tgz 2、 解压；
1 tar -zxvf mongodb-linux-x86_64-3.4.9.tgz 3、 将解压包拷贝到指定目录；
1 mv mongodb-linux-x86_64-3.4.9 /usr/local/mongodb 4、 添加PATHMongoDB的可执行文件位于bin目录下，所以可以将其添加到PATH路径中；
1 export PATH=&amp;lt;mongodb-install-directory&amp;gt;/bin:$PATH 1**&amp;lt;mongodb-install-directory&amp;gt;** 是 MongoDB 的安装路径 2如本文的 **/usr/local/mongodb** 创建数据库目录 MongoDB 的数据存储在 data 目录的 db 目录下
这个目录在安装过程不会自动创建，所以需要手动创建 data 目录，并在 data 目录中创建 db 目录
以下范例中我们将 data 目录创建 / 目录下
注意：/data/db 是 MongoDB 默认的启动的数据库路径 ( –dbpath )
1mkdir -p /data/db 命令行中运行 MongoDB 服务 因初次访问，为防止爬虫和人机识别，请关注微信公众号，回复:‘验证码‘获取验证码来解锁全文 解锁内容 可以在MongoDB 安装目录下的 bin 目录中执行 mongod 命令来启动 MongoDB 服务</description></item><item><title>五、MySQL 日常管理</title><link>https://www.shellio.cc/docs/database/mysql/5/</link><pubDate>Sat, 21 Oct 2023 12:22:54 +0800</pubDate><guid>https://www.shellio.cc/docs/database/mysql/5/</guid><description>下面列出了日常管理 MySQL 数据库过程中常用的命令
USE 命令 USE 命令用于选择要操作的 MySQL 数据库
使用该命令后所有 MySQL 命令都只针对该数据库
USE 命令语法格式如下 1USE **数据库名** 示例 1MariaDB [(none)]&amp;gt; USE test; 2Database changed 3MariaDB [test]&amp;gt; 可以看到，使用了 USE 命令后, mysql 提示符中的 [(none)] 会变成 [test]
SHOW DATABASE 命令 因初次访问，为防止爬虫和人机识别，请关注微信公众号，回复:‘验证码‘获取验证码来解锁全文 解锁内容 SHOW DATABASES 命令用于列出 MySQL 数据库管理系统的数据库
1MariaDB [test]&amp;gt; SHOW DATABASES; 2+--------------------+ 3| Database | 4+--------------------+ 5| information_schema | 6| mysql | 7| performance_schema | 8| test | 9+--------------------+ 104 rows in set (0.00 sec) SHOW TABLES 命令 SHOW TABLES 命令用于列出指定数据库中的所有表 使用该命令前需要使用 USE 命令来选择要操作的数据库</description></item><item><title>五、SQLite Glob 子句</title><link>https://www.shellio.cc/docs/database/sqlite/5/</link><pubDate>Sat, 21 Oct 2023 12:22:54 +0800</pubDate><guid>https://www.shellio.cc/docs/database/sqlite/5/</guid><description>SQLite Glob 子句 SQLite 的 GLOB 运算符是用来匹配通配符指定模式的文本值。如果搜索表达式与模式表达式匹配，GLOB 运算符将返回真（true），也就是 1。与 LIKE 运算符不同的是，GLOB 是大小写敏感的，对于下面的通配符，它遵循 UNIX 的语法。
星号 （*） 问号 （?） 星号（*）代表零个、一个或多个数字或字符。问号（?）代表一个单一的数字或字符。这些符号可以被组合使用。
语法 因初次访问，为防止爬虫和人机识别，请关注微信公众号，回复:‘验证码‘获取验证码来解锁全文 解锁内容 * 和 ? 的基本语法如下：
1SELECT FROM table_name 2WHERE column GLOB &amp;#39;XXXX*&amp;#39; 3or 4SELECT FROM table_name 5WHERE column GLOB &amp;#39;*XXXX*&amp;#39; 6or 7SELECT FROM table_name 8WHERE column GLOB &amp;#39;XXXX?&amp;#39; 9or 10SELECT FROM table_name 11WHERE column GLOB &amp;#39;?XXXX&amp;#39; 12or 13SELECT FROM table_name 14WHERE column GLOB &amp;#39;?XXXX?&amp;#39; 15or 16SELECT FROM table_name 17WHERE column GLOB &amp;#39;?</description></item><item><title>五十、MongoDB 自增 ID</title><link>https://www.shellio.cc/docs/database/mongodb/50/</link><pubDate>Sat, 21 Oct 2023 12:22:54 +0800</pubDate><guid>https://www.shellio.cc/docs/database/mongodb/50/</guid><description>MongoDB 的 _id 是系统自动生成的 12 字节唯一标识
为了实现 ObjectId 自动增长功能，我们需要另外取巧的方法来实现
接下来我们将学习如何在 counters 集合中实现自增字段 _id
使用 counters 集合 假设我们有如下的 language 文档
我们希望 _id 字段是自增的，也就是从 1,2,3,4 到 n 的自动增长
1{ 2 &amp;#34;_id&amp;#34;:1, 3 &amp;#34;name&amp;#34;: &amp;#34;Python&amp;#34;, 4 &amp;#34;category&amp;#34;: &amp;#34;server&amp;#34; 取巧的方法，就是创建 counters 集合，序列字段值可以实现自动长
1&amp;gt; db.createCollection(&amp;#34;counters&amp;#34;) 然后向counters 集合中插入以下文档，使用 language_id 作为 key
1{ 2 &amp;#34;_id&amp;#34;:&amp;#34;language_id&amp;#34;, 3 &amp;#34;sequence_value&amp;#34;: 0 sequence_value 字段是 language 中的 “_id” 通过自动增长后的一个值
最后，使用以下命令插入 counters 集合的序列文档中
1&amp;gt;db.counters.insert({_id:&amp;#34;language_id&amp;#34;,sequence_value:0}) 准备工作到这里就完成了，接下来创建 JavaScript 函数
创建 Javascript 函数 因初次访问，为防止爬虫和人机识别，请关注微信公众号，回复:‘验证码‘获取验证码来解锁全文 解锁内容 我们创建一个函数 getNextSequenceValue 作为序列名的输入</description></item><item><title>一、MongoDB 基础教程</title><link>https://www.shellio.cc/docs/database/mongodb/1/</link><pubDate>Sat, 21 Oct 2023 12:22:54 +0800</pubDate><guid>https://www.shellio.cc/docs/database/mongodb/1/</guid><description>MongoDB 是一个介于关系数据库和非关系数据库之间的产品，是非关系数据库当中功能最丰富，最像关系数据库的。
内容列表 MongoDB 简介
介绍MongoDB 基础概念
window 平台安装 MongoDB
介绍如何在window平台上安装MongoDB
Linux 平台安装 MongoDB
介绍如何在Linux平台上安装MongoDB
MongoDB 术语
介绍MongoDB 的一些术语
MongoDB 连接
介绍MongoDB 数据库，对象，集合应用
PHP安装 MongoDB 扩展
介绍PHP 安装M MongoDB 扩展的方法
MongoDB 插入文档
介绍MongoDB 数据插入操作
MongoDB 更新文档
介绍MongoDB 更新数据操作
MongoDB 删除文档
介绍MongoDB 删除数据操作
MongoDB 查询
介绍MongoDB 数据查询操作
MongoDB条件操作符
介绍MongoDB 条件操作符的使用
MongoDB $type 操作符
介绍MongoDB 条件操作符 $type 的使用
MongoDB 有用资源 1、 MongoDB官网地址:https://www.mongodb.com/；
2、 MongoDB官方英文文档:https://docs.mongodb.com/manual/；
3、 MongoDB各平台下载地址：[MongoDB3.4.9CommunityServer][]；</description></item><item><title>一、MySQLMariaDB 基础教程</title><link>https://www.shellio.cc/docs/database/mysql/1/</link><pubDate>Sat, 21 Oct 2023 12:22:54 +0800</pubDate><guid>https://www.shellio.cc/docs/database/mysql/1/</guid><description>MySQL/MariaDB 是当前最流行的可免费使用的关系型数据库管理系统。
本教程中，我们会学习到 MySQL 的基本知识，以及 MySQL 和 PHP 的结合使用
学完本课程，我们会达到 MySQL 入门级，能够在日常的开发中轻松使用 MySQL 数据库
什么是数据库？ 数据库（Database）是按照数据结构来组织、存储和管理数据的仓库，
每个数据库都有一个或多个不同的 API 用于创建，访问，管理，搜索和复制所保存的数据
因此，现在我们使用关系型数据库管理系统（RDBMS）来存储和管理的大数据量
RDBMS RDBMS 即关系数据库管理系统 ( Relational Database Management System )
所谓的关系型数据库，是建立在关系模型基础上的数据库，借助于集合代数等数学概念和方法来处理数据库中的数据
RDBMS 的特点 1、 数据以表格的形式出现；
2、 每行为各种记录名称；
3、 每列为记录名称所对应的数据域；
4、 许多的行和列组成一张表单；
5、 若干的表单组成database；
RDBMS 术语 在我们开始学习 MySQL 数据库前，我们先了解下 RDBMS 中的几个关键术语
1、 数据库；
1数据库是一些关联表的集合 2、 数据表；
1表是数据的矩阵 在一个数据库中的表看起来像一个简单的电子表格 3、 列；
1一列(数据元素) 包含了相同的数据, 例如邮政编码的数据 4、 行；
1一行（=元组，或记录）是一组相关的数据，例如一条用户订阅的数据 5、 冗余；
1存储两倍数据，冗余降低了性能，但提高了数据的安全性 6、 主键；
1主键是唯一的 一个数据表中只能包含一个主键 使用主键可以快速的定位到行 7、 外键；</description></item><item><title>一、开始学习SQLite</title><link>https://www.shellio.cc/docs/database/sqlite/1/</link><pubDate>Sat, 21 Oct 2023 12:22:54 +0800</pubDate><guid>https://www.shellio.cc/docs/database/sqlite/1/</guid><description>SQLite 教程 SQLite 是一个软件库，实现了自给自足的、无服务器的、零配置的、事务性的 SQL 数据库引擎。SQLite 是在世界上最广泛部署的 SQL 数据库引擎。SQLite 源代码不受版权限制。
本教程将告诉您如何使用 SQLite 编程，并让你迅速上手。
现在开始学习 SQLite！
谁适合阅读本教程？ 本教程有助于初学者了解 SQLite 数据库引擎相关的基础知识和先进理念。
阅读本教程前，你需要了解的知识： 在开始使用本教程提供的各类实例进行练习之前，您需要了解什么是数据库，尤其是 RDBMS，以及什么是计算机编程语言。
编译/执行 SQLite 程序 如果您想要通过 SQLite DBMS 编译/执行 SQL 程序，但是您没有相关设置，那么可以访问 compileonline.com。您只需进行简单的点击动作，即可在高端的服务器上体验真实的编程经验。这是完全免费的在线工具。
SQLite 函数参考手册 本教程提供了所有重要的内置的 SQLite 函数的参考手册。
SQLite 常用函数
SQLite 有用的资源 本教程列出了 SQLite 数据库网站和书籍。
SQLite 有用的网站 SQLite Home Page - SQLite 官方网站提供了最新的 SQLite 安装版本，最新的 SQLite 资讯以及完整的 SQLite 教程。 PHP SQLite3 - 网站提供了 SQLite 3 数据库的 PHP 支持的完整细节。 SQLite JDBC Driver: - SQLite JDBC，由 Taro L.</description></item></channel></rss>